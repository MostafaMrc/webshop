!function(){var t={2779:function(e,n){var t;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function l(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var r,a=typeof t;if("string"==a||"number"==a)e.push(t);else if(Array.isArray(t))!t.length||(r=l.apply(null,t))&&e.push(r);else if("object"==a)if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var o in t)i.call(t,o)&&t[o]&&e.push(o);else e.push(t.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(t=function(){return l}.apply(n,[]))||(e.exports=t)}()},6216:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NTc3IDE3Ljc4ODVIMzAuNDYyNkwyOC4zNzQ3IDI5Ljk1MDZIMTcuNTY5OEwxOS42NTc3IDE3Ljc4ODVaTTM4LjM0NDUgMzEuNTQyNkMzOC4zNDQ1IDMwLjY2MzMgMzcuNjMxNyAyOS45NTA2IDM2Ljc1MjQgMjkuOTUwNkgzMS42NjMyTDMzLjc1MTEgMTcuODQwN0gzOC44NDA0QzM5LjcxOTYgMTcuODQwNyA0MC40MzI0IDE3LjEyNzkgNDAuNDMyNCAxNi4yNDg2QzQwLjQzMjQgMTUuMzY5NCAzOS43MTk2IDE0LjY1NjYgMzguODQwNCAxNC42NTY2SDM0LjI3MzFMMzUuNjE1NCA2Ljg5NjMyQzM1Ljc4NjcgNS45MDU4MyAzNS4wMjQxIDUgMzQuMDE4OSA1QzMzLjIzMDcgNSAzMi41NTY4IDUuNTY3MzEgMzIuNDIyNCA2LjM0NDAzTDMwLjk4NDYgMTQuNjU2NkgyMC4yMzE4TDIxLjU3NDIgNi44OTYzMkMyMS43NDU1IDUuOTA1ODMgMjAuOTgyOSA1IDE5Ljk3NzcgNUMxOS4xODk0IDUgMTguNTE1NiA1LjU2NzMxIDE4LjM4MTIgNi4zNDQwM0wxNi45NDM0IDE0LjY1NjZIMTEuMzMyMUMxMC40NTI5IDE0LjY1NjYgOS43NDAwOSAxNS4zNjk0IDkuNzQwMDkgMTYuMjQ4NkM5Ljc0MDA5IDE3LjEyNzkgMTAuNDUyOSAxNy44NDA3IDExLjMzMjEgMTcuODQwN0gxNi40MjE0TDE0LjMzMzUgMjkuOTUwNkg5LjE5MjAxQzguMzEyNzUgMjkuOTUwNiA3LjU5OTk4IDMwLjY2MzMgNy41OTk5OCAzMS41NDI2QzcuNTk5OTggMzIuNDIxOCA4LjMxMjc1IDMzLjEzNDYgOS4xOTIwMSAzMy4xMzQ2SDEzLjc1OTNMMTIuNDEgNDEuMTA0MUMxMi4yNDIxIDQyLjA5NTYgMTMuMDA2MiA0MyAxNC4wMTE5IDQzQzE0LjgwMTMgNDMgMTUuNDc2NSA0Mi40MzI1IDE1LjYxMjMgNDEuNjU0OEwxNy4xIDMzLjEzNDZIMjcuODAwNUwyNi40NTA1IDQxLjEwODJDMjYuMjgzIDQyLjA5NzYgMjcuMDQ1NCA0MyAyOC4wNDg5IDQzQzI4LjgzOTggNDMgMjkuNTE1MyA0Mi40MjkzIDI5LjY0NzMgNDEuNjQ5NUwzMS4wODkgMzMuMTM0NkgzNi43NTI0QzM3LjYzMTcgMzMuMTM0NiAzOC4zNDQ1IDMyLjQyMTggMzguMzQ0NSAzMS41NDI2WiIgZmlsbD0id2hpdGUiLz4NCjwvc3ZnPg0K"},648:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzAiIGhlaWdodD0iNzAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF85ODVfMTM0MjcpIj4NCjxyZWN0IHk9IjAuNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iNCIgZmlsbD0iI0Y1QzQwMCIvPg0KPHBhdGggZD0iTTE4LjgyNzkgMjMuNDI0NUMxOC44Mjc5IDIzLjQyNDUgMTguODYxMyAyOC4xNjg3IDIxLjI5NzIgMzMuMDc1M0MyMy43OTk5IDM3Ljc5ODMgMjcuMjUwNSA0MC44MzIxIDMwLjA5NzIgNDIuMDQwNkMzMy4wMzg1IDQwLjY2NTcgMzUuODc5OCAzOC4yNzkxIDM3LjQzMDQgMzUuNzA3NkgyOS4zNTU4QzI3LjI2NjUgMzMuOTc2IDI1LjYyMjUgMzEuMTAzNCAyNS4yNDUyIDI3Ljc4M0g0OC45MzNDNDcuNzY1IDMzLjEyMTUgNDUuMjg2NCAzNy45NzY2IDQyLjkyNSA0MS4wNjg1QzM5LjY0NzYgNDUuMzU1NSAzNS4yMDM1IDQ4LjYyNzQgMzAuMTE0NSA1MC41SDMwLjAzOThDMjEuNTQzOSA0Ny4xMTQ5IDE2Ljk3MzMgNDEuNzgzIDEzLjk1NzMgMzUuNzY3QzEyLjAyMjYgMzEuOTExNyAxMCAyNC45MTE3IDEwIDE1LjVINDkuOTk5OEM1MC4wMDYzIDE4LjE1MDUgNDkuODI4MSAyMC43OTgzIDQ5LjQ2NjMgMjMuNDI0NUgxOC44Mjc5WiIgZmlsbD0iIzExMTgyMCIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzk4NV8xMzQyNyI+DQo8cmVjdCB5PSIwLjUiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcng9IjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},1547:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMyAxSDlWMi41SDNDMi43MjM4NiAyLjUgMi41IDIuNzIzODYgMi41IDNWMTVDMi41IDE1LjI3NjEgMi43MjM4NiAxNS41IDMgMTUuNUgxNUMxNS4yNzYxIDE1LjUgMTUuNSAxNS4yNzYxIDE1LjUgMTVWOUgxN1YxNUMxNyAxNi4xMDQ2IDE2LjEwNDYgMTcgMTUgMTdIM0MxLjg5NTQzIDE3IDEgMTYuMTA0NiAxIDE1VjNDMSAxLjg5NTQzIDEuODk1NDMgMSAzIDFaTTExLjUgMS43NUMxMS41IDEuMzM1NzkgMTEuODM1OCAxIDEyLjI1IDFIMTYuMjVIMTdWMS43NVY1Ljc1QzE3IDYuMTY0MjEgMTYuNjY0MiA2LjUgMTYuMjUgNi41QzE1LjgzNTggNi41IDE1LjUgNi4xNjQyMSAxNS41IDUuNzVWMy41NjA2Nkw5LjUzMDMzIDkuNTMwMzNDOS4yMzc0NCA5LjgyMzIyIDguNzYyNTYgOS44MjMyMiA4LjQ2OTY3IDkuNTMwMzNDOC4xNzY3OCA5LjIzNzQ0IDguMTc2NzggOC43NjI1NiA4LjQ2OTY3IDguNDY5NjdMMTQuNDM5MyAyLjVMMTIuMjUgMi41QzExLjgzNTggMi41IDExLjUgMi4xNjQyMSAxMS41IDEuNzVaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo="}},r={};function Bn(e){if(r[e])return r[e].exports;var n=r[e]={exports:{}};return t[e](n,n.exports,Bn),n.exports}Bn.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return Bn.d(n,{a:n}),n},Bn.d=function(e,n){for(var t in n)Bn.o(n,t)&&!Bn.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},Bn.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){"use strict";var b,U,C,E,I,z=Roblox,e=Bn.n(z),L=React,j=Bn.n(L),P=ReactDOM,O=ReactStyleGuide,n=ReactUtilities,t={common:[],feature:"Feature.Groups"},r={common:[],feature:"Feature.CommunityLinks"},f=CoreUtilities,a=z.EnvironmentUrls.apiGatewayUrl,o=z.EnvironmentUrls.groupsApi,i=z.EnvironmentUrls.catalogApi,l=a+"/community-links/v1/groups",u=a+"/community-links/v1/guilded",c=a+"/community-links/v1/shout",s="rgp",N={urls:{getGroupCommunityInfoUrl:function(e){return l+"/"+e+"/community"},getGroupCommunityLinkUrl:function(e){return l+"/"+e+"/community/link"},getGroupShoutUrl:function(e){return l+"/"+e+"/shout"},getUserCommunityChannelsUrl:function(e){return u+"/user/community/"+e+"/channels/announcements"},getReactionIncrementUrl:function(){return c+"/reactions/increment"},getReactionDecrementUrl:function(){return c+"/reactions/decrement"},getGroupMembershipUrl:function(e){return o+"/v1/groups/"+e+"/membership"},getGroupNotificationPreferenceUrl:function(e){return o+"/v1/groups/"+e+"/notification-preference"},getCatalogItemDetailsUrl:function(e,n){return i+"/v1/catalog/items/"+n+"/details?itemType="+e},getViewCommunityUrl:function(e,n){return z.EnvironmentUrls.guildedBaseUrl+"/teams/"+e+"?a="+s+(n?"&token="+n:"")},getJoinCommunityUrl:function(e){return u+"/"+e+"/join?a="+s},getViewAnnouncementChannelUrl:function(e,n,t){return z.EnvironmentUrls.guildedBaseUrl+"/teams/"+e+"/channels/"+n+"/announcements?a="+s+(t?"&token="+t:"")},getGroupCommunityValidateUrl:function(e){return l+"/"+e+"/community/validate"},getConfigureGroupGuildedSectionUrl:function(e){return z.EnvironmentUrls.websiteUrl+"/groups/configure?id="+e+"#!/guilded"},guildedUserUrl:u+"/user",guildedUserServersUrl:u+"/user/servers",getUsersInfoURL:z.EnvironmentUrls.usersApi+"/v1/users",guildedTermsUrl:"https://support.guilded.gg/hc/en-us/articles/360039728313-Terms-of-use",guildedPrivacyPolicyUrl:"https://support.guilded.gg/hc/en-us/articles/360039235054-Privacy"},embedUrlRegexes:{catalogItem:/(roblox\.com|robloxlabs\.com)\/catalog\/(\d+)/},limits:{communityNameMinLength:3,communityNameMaxLength:30}},d=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},m=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},G=function(t){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityInfoUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.get(n)];case 1:return[2,e.sent().data]}})})},p=function(){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){return n={url:N.urls.guildedUserUrl,retryable:!0,withCredentials:!0},[2,f.httpService.get(n)]})})},h=function(){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.guildedUserServersUrl,retryable:!0,withCredentials:!0},[4,f.httpService.get(n)];case 1:return n=e.sent().data,[2,null!==(n=null==n?void 0:n.servers)&&void 0!==n?n:[]]}})})},y=function(t,r){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityInfoUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.post(n,{name:r})];case 1:return[2,e.sent().data]}})})},v=function(t,r,a){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityLinkUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.post(n,{communityId:r,announcementChannelId:a})];case 1:return[2,e.sent().data]}})})},w=function(t){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getUserCommunityChannelsUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.get(n)];case 1:return[2,e.sent().data]}})})},g=function(t){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityInfoUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.delete(n)];case 1:return e.sent(),[2]}})})},M=function(t,r){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityInfoUrl(t),retryable:!0,withCredentials:!0},[4,f.httpService.patch(n,{settings:r})];case 1:return e.sent(),[2]}})})},k=function(t){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getReactionIncrementUrl(),retryable:!0,withCredentials:!0},[4,f.httpService.post(n,t)];case 1:return[2,e.sent().data]}})})},T=function(t){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getReactionDecrementUrl(),retryable:!0,withCredentials:!0},[4,f.httpService.post(n,t)];case 1:return[2,e.sent().data]}})})},S=function(t,r){return d(void 0,void 0,Promise,function(){var n;return m(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupCommunityValidateUrl(t),retryable:!1,withCredentials:!0},[4,f.httpService.post(n,{name:r.name})];case 1:return[2,e.sent().data]}})})},B=CoreRobloxUtilities;function x(e){var n=e.context,t=e.groupId,r=e.exposureType,e=e.exposureId;B.eventStreamService.sendEventWithTarget(b.GroupPageExposureEvent,n,D({groupId:t,exposureType:r},e&&{exposureId:e}))}function R(e){var n=e.context,t=e.groupId,r=e.clickTargetType,e=e.clickTargetId;B.eventStreamService.sendEventWithTarget(b.GroupPageClickEvent,n,D({groupId:t,clickTargetType:r},e&&{clickTargetId:e}))}(a=b=b||{}).CommunityDialogStateChanged="communityDialogStateChanged",a.GroupPageClickEvent="groupPageClickEvent",a.GroupPageExposureEvent="groupPageExposureEvent",(a=U=U||{}).GroupHomepage="groupHomepage",a.ConfigureGroup="configureGroup",a.NotificationBell="notificationBell",a.NotificationUpsell="notificationUpsell",(a=C=C||{}).Create="create",a.Link="link",a.ChangeChannel="changeChannel",a.Unlink="unlink",(a=E=E||{}).Started="started",a.Completed="completed",(I=I||{}).Group="group";var D=function(){return(D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},A=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Q=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},H=(0,n.withTranslations)(function(e){var a=e.onConfirm,o=e.onClose,i=e.groupId,l=e.communityInfo,n=e.translate,t=(0,L.useCallback)(function(){return A(void 0,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return e.trys.push([0,,3,4]),[4,g(i)];case 1:return e.sent(),n={groupId:i,communityId:l.communityId,announcementChannelId:l.announcementChannelId},t=n.groupId,r=n.communityId,n=n.announcementChannelId,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,U.ConfigureGroup,{dialogType:C.Unlink,dialogState:E.Completed,entityType:I.Group,entityId:t,guildedServerId:r,announcementChannelId:n}),[4,a()];case 2:return e.sent(),[3,4];case 3:return o(),[7];case 4:return[2]}var n,t,r})})},[i,l.communityId,l.announcementChannelId,o,a]),e=j().createElement("p",null,n("Description.UnlinkCommunity"));return j().createElement(O.SimpleModal,{show:!0,title:n("Label.UnlinkCommunity"),body:e,actionButtonShow:!0,actionButtonText:n("Action.Unlink"),actionButtonVariant:O.Button.variants.alert,neutralButtonText:n("Action.Cancel"),onAction:t,onClose:o,onNeutral:o})},t),Y=function(){return(Y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};(a=function(e){var n=e.label,t=e.variant,r=void 0===t?O.Button.variants.primary:t,a=e.size,o=void 0===a?O.Button.sizes.medium:a,i=e.href,l=e.onClick,u=e.disabled,t=e.iconURL,a=e.openInNewTab,e=i?"a":"button",a=i?{href:i,target:a?"_blank":"_self",rel:"noopener"}:{};return j().createElement(e,Y({className:"btn-"+r+"-"+o,onClick:l,disabled:u,role:"button"},a),j().createElement("span",{className:"linkable-button-content-container"},t&&j().createElement("img",{src:t,alt:"",className:"linkable-button-content-container-icon"}),n))}).defaultProps={variant:O.Button.variants.primary,size:O.Button.sizes.medium,href:void 0,onClick:void 0,disabled:!1,iconURL:void 0,openInNewTab:!0};var F=a,V=function(){return(V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};(a=function(e){var n=e.primaryButtonProps,e=e.secondaryButtonProps;return j().createElement("div",{className:"dialog-action-buttons-row"},!!n&&j().createElement(F,V({variant:O.Button.variants.primary},n)),!!e&&j().createElement(F,V({variant:O.Button.variants.secondary},e)))}).defaultProps={primaryButtonProps:void 0,secondaryButtonProps:void 0};var _=a,a=Bn(2779),Z=Bn.n(a);(a=function(e){var n=e.guildedUser,t=e.caption,e=e.translate;return j().createElement("div",{className:"guilded-user-info-display"},j().createElement("img",{className:Z()("guilded-user-info-display-avatar",!n.profilePicture&&"guilded-user-info-display-avatar-default"),src:n.profilePicture,title:e("Label.GuildedAvatarAlt"),alt:""}),t&&j().createElement("div",{className:"guilded-user-info-display-caption"},t),j().createElement("h3",{className:"guilded-user-info-display-username"},n.username))}).defaultProps={caption:""};var W=(0,n.withTranslations)(a,t),K=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},X=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},J=(0,n.withTranslations)(function(e){var n=e.handleCancel,t=e.handleContinue,a=e.handleAccountNotFound,o=e.handleError,r=e.translate,i=(0,L.useState)(),l=i[0],u=i[1],e=(0,L.useState)(!0),i=e[0],c=e[1],s=(0,L.useCallback)(function(){return K(void 0,void 0,void 0,function(){var t,r;return X(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,p()];case 1:return t=e.sent(),r=t.data,204===t.status||(null===(n=r)||""===n||"object"==typeof n&&null!==n&&0===Object.keys(n).length)?a():(u(r),c(!1)),[3,3];case 2:return(404===e.sent().status?a:o)(),[3,3];case 3:return[2]}var n})})},[a,o]);return(0,L.useEffect)(function(){s()},[s]),i||!l?j().createElement(O.Loading,null):j().createElement(O.Modal.Body,null,j().createElement(W,{guildedUser:l,caption:r("Label.ContinueAs")}),j().createElement("div",{className:"community-dialog-section"},r("Description.FetchedGuildedAccount")),j().createElement(_,{primaryButtonProps:{label:r("Action.Continue"),onClick:t},secondaryButtonProps:{label:r("Action.Cancel"),onClick:n}}))},t),q=(0,n.withTranslations)(function(e){var n=e.handleCancel,t=e.handleContinue,r=e.handleError,a=e.translate,o=(0,L.useState)(!1),e=o[0],i=o[1],o=(0,L.useCallback)(function(){i(!0)},[]);return e?j().createElement(O.Modal.Body,null,j().createElement("div",{className:"link-community-account-not-found-image"}),j().createElement("div",{className:"community-dialog-section"},a("Description.GoToGuildedToLinkYourAccounts")),j().createElement(_,{primaryButtonProps:{label:a("Action.ContinueToGuilded"),href:z.EnvironmentUrls.guildedBaseUrl},secondaryButtonProps:{label:a("Action.Cancel"),onClick:n}})):j().createElement(J,{handleContinue:t,handleCancel:n,handleAccountNotFound:o,handleError:r})},t);(a=function(e){var n=e.title,t=e.subtitle,r=e.iconClassName,a=e.iconUrl,o=e.selected,i=e.onClick,e=(0,L.useCallback)(function(e){"Enter"===e.key&&i()},[i]);return j().createElement("div",{className:"selectable-list-item",onClick:i,onKeyDown:e,tabIndex:0,role:"radio","aria-checked":o},j().createElement("img",{className:Z()("selectable-list-item-icon",r),src:a,alt:""}),j().createElement("div",{className:"selectable-list-item-info"},j().createElement("div",{className:"selectable-list-item-title"},n),t&&j().createElement("div",{className:"selectable-list-item-subtitle"},t)),j().createElement("div",{className:Z()("selectable-list-item-checkbox",o&&"selectable-list-item-checkbox-filled")}))}).defaultProps={subtitle:null,iconClassName:null};var $=a,a=Bn(6216),ee=Bn.n(a),ne=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},te=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},re=(0,n.withTranslations)(function(e){var t=e.communityId,n=e.handleCancel,r=e.handleContinue,a=e.handleChannelsNotFound,o=e.handleError,i=e.translate,l=(0,L.useState)(),u=l[0],c=l[1],e=(0,L.useState)(!0),l=e[0],s=e[1],e=(0,L.useState)(),d=e[0],m=e[1],f=(0,L.useCallback)(function(){return ne(void 0,void 0,void 0,function(){var n;return te(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,w(t)];case 1:return(n=e.sent(),null!=(n=null==n?void 0:n.channels)&&n.length)?(c(n),s(!1),[3,3]):(a(),[2]);case 2:return e.sent(),o(),[3,3];case 3:return[2]}})})},[t,a,o]),e=(0,L.useCallback)(function(){d&&r(d)},[r,d]);return(0,L.useEffect)(function(){f()},[f]),l?j().createElement(O.Loading,null):j().createElement(O.Modal.Body,null,j().createElement("div",null,i("Description.SelectAnnouncementChannel")),j().createElement("ul",{className:"selectable-list-item-list"},(null!=u?u:[]).map(function(e){var n=e.id,e=e.name;return j().createElement($,{key:n,iconUrl:ee(),iconClassName:"selectable-channel-icon",title:e,selected:n===d,onClick:function(){return m(n)}})})),j().createElement(_,{primaryButtonProps:{label:i("Action.Continue"),disabled:!d,onClick:e},secondaryButtonProps:{label:i("Action.Cancel"),onClick:n}}))},t),ae=(0,n.withTranslations)(function(e){var n=e.communityId,t=e.handleCancel,r=e.handleContinue,a=e.handleError,o=e.translate,i=(0,L.useState)(!1),e=i[0],l=i[1],i=(0,L.useCallback)(function(){l(!0)},[]);return e?j().createElement(O.Modal.Body,null,j().createElement("div",null,o("Description.NoAnnouncementChannelsFound")),j().createElement(_,{primaryButtonProps:{label:o("Action.ViewCommunity"),href:N.urls.getViewCommunityUrl(n)},secondaryButtonProps:{label:o("Action.Cancel"),onClick:t}})):j().createElement(re,{communityId:n,handleCancel:t,handleContinue:r,handleChannelsNotFound:i,handleError:a})},t),oe=RobloxThumbnails;function ie(e){var o=e.groupId,i=e.communityInfo,l=e.announcementChannelId,n=e.handleClose,u=e.handleError,e=(t=(0,L.useState)(!0))[0],c=t[1],t=(0,L.useMemo)(function(){return se(se({},i),{announcementChannelId:l})},[i,l]),r=(0,L.useCallback)(function(){return de(void 0,void 0,void 0,function(){return me(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,M(o,{announcementChannelId:l})];case 1:return e.sent(),n={groupId:o,communityId:i.communityId,announcementChannelId:l,prevAnnouncementChannelId:i.announcementChannelId},t=n.groupId,r=n.communityId,a=n.announcementChannelId,n=n.prevAnnouncementChannelId,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,U.ConfigureGroup,{dialogType:C.ChangeChannel,dialogState:E.Completed,entityType:I.Group,entityId:t,guildedServerId:r,announcementChannelId:a,prevAnnouncementChannelId:n}),c(!1),[3,3];case 2:return e.sent(),u(),[3,3];case 3:return[2]}var n,t,r,a})})},[o,l,i.communityId,i.announcementChannelId,u]);return(0,L.useEffect)(function(){r()},[r]),e?j().createElement(O.Loading,null):j().createElement(ce,{groupId:o,communityInfo:t,handleClose:n})}function le(e){var n=e.title,e=e.message;return j().createElement("div",{className:"error-display"},j().createElement("div",{className:"error-display-image"}),j().createElement("div",{className:"error-display-content"},j().createElement("h3",null,n),j().createElement("div",null,e)))}(a=function(e){var n=e.groupId,t=e.communityInfo,r=e.loginToken,e=(e.handleClose,e.translate);return j().createElement(O.Modal.Body,null,j().createElement("div",{className:"community-link-success-banner"},j().createElement("div",{className:"community-link-success-banner-icon"},j().createElement(oe.Thumbnail2d,{type:oe.ThumbnailTypes.groupIcon,targetId:n,size:oe.ThumbnailGameIconSize.size150}))),j().createElement("div",{className:"community-dialog-section"},j().createElement("h3",null,e("Heading.CommunityLinkSuccess",{communityName:t.name})),j().createElement("div",null,e("Description.CommunityLinkSuccess"))),j().createElement(_,{primaryButtonProps:{label:e("Action.CreateAnnouncement"),href:N.urls.getViewAnnouncementChannelUrl(t.communityId,t.announcementChannelId,r)},secondaryButtonProps:{label:e("Action.ViewCommunity"),href:N.urls.getViewCommunityUrl(t.communityId,r)}}))}).defaultProps={loginToken:void 0};var ue,ce=(0,n.withTranslations)(a,t),se=function(){return(se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},de=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},me=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},fe=function(){var e=(0,L.useState)(!1),n=e[0],t=e[1],r=(0,L.useState)(!0),a=r[0],o=r[1],e=(0,L.useCallback)(function(e){void 0===e&&(e={}),o(null===(e=null==e?void 0:e.canRetry)||void 0===e||e),t(!0)},[]),r=(0,L.useCallback)(function(){t(!1)},[]);return{errorState:(0,L.useMemo)(function(){return{hasError:n,canRetry:a}},[n,a]),handleError:e,clearError:r}},pe=(0,n.withTranslations)(function(e){var n=e.canRetry,t=e.handleRetry,r=e.handleClose,a=e.translate,o=(0,L.useMemo)(function(){if(n)return{label:a("Action.Retry"),onClick:t}},[n,t,a]),e=(0,L.useMemo)(function(){return{label:a("Action.Cancel"),onClick:r}},[r,a]);return j().createElement(O.Modal.Body,null,j().createElement(le,{title:a("Heading.CommunityDialogError"),message:a("Description.CommunityDialogError")}),j().createElement(_,{primaryButtonProps:o,secondaryButtonProps:e}))},t);function he(){}function ye(e){var i=e.groupId,l=e.communityName,u=e.eventContext,n=e.handleClose,c=e.handleError,t=(0,L.useState)(),e=t[0],s=t[1],r=(0,L.useCallback)(function(){return ke(void 0,void 0,void 0,function(){var o;return Te(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,y(i,l)];case 1:return o=e.sent(),s(o),n={groupId:i,communityId:o.communityInfo.communityId,announcementChannelId:o.communityInfo.announcementChannelId,context:u},t=n.groupId,r=n.communityId,a=n.announcementChannelId,n=n.context,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,n,{dialogType:C.Create,dialogState:E.Completed,entityType:I.Group,entityId:t,guildedServerId:r,announcementChannelId:a}),[3,3];case 2:return e.sent(),c({canRetry:!1}),[3,3];case 3:return[2]}var n,t,r,a})})},[i,l,u,c]);return(0,L.useEffect)(function(){r()},[r]),e?j().createElement(ce,{groupId:i,communityInfo:e.communityInfo,loginToken:e.loginToken,handleClose:n}):j().createElement(O.Loading,null)}(a=ue=ue||{})[a.ACCOUNT_FETCH=0]="ACCOUNT_FETCH",a[a.CHANNEL_SELECT=1]="CHANNEL_SELECT",a[a.UPDATE_COMMUNITY=2]="UPDATE_COMMUNITY";var ve,ge=(0,n.withTranslations)(function(e){var n=e.groupId,t=e.communityInfo,r=e.onClose,a=e.onUpdateSuccess,o=e.translate,i=(0,L.useState)(ue.ACCOUNT_FETCH),l=i[0],u=i[1],c=(0,L.useState)(""),s=c[0],d=c[1],m=fe(),f=m.errorState,p=m.handleError,h=m.clearError,e=f.hasError,i=f.canRetry,y=(0,L.useCallback)(function(){a(),r()},[a,r]),c=(0,L.useCallback)(function(){(l===ue.UPDATE_COMMUNITY?y:r)()},[l,r,y]),m=(0,L.useCallback)(function(){u(ue.CHANNEL_SELECT)},[]),f=(0,L.useCallback)(function(e){d(e),u(ue.UPDATE_COMMUNITY)},[]);return j().createElement(O.Modal,{className:"link-community-dialog",show:!0,size:"md",backdrop:"static"},j().createElement(O.Modal.Header,{title:o("Heading.ChangeAnnouncementChannel"),onClose:c}),e?j().createElement(pe,{canRetry:i,handleRetry:h,handleClose:r}):j().createElement(L.Fragment,null,l===ue.ACCOUNT_FETCH&&j().createElement(q,{handleCancel:r,handleContinue:m,handleError:p}),l===ue.CHANNEL_SELECT&&j().createElement(ae,{communityId:t.communityId,handleCancel:r,handleContinue:f,handleError:p}),l===ue.UPDATE_COMMUNITY&&j().createElement(ie,{groupId:n,communityInfo:t,announcementChannelId:s,handleClose:y,handleError:p})))},t),be=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Ce=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},Ee=(0,n.withTranslations)(function(e){var r=e.groupId,a=e.communityInfo,n=e.translate,t=e.refetchCommunityInfo,o=(0,L.useState)(!0),i=o[0],l=o[1],u=(0,L.useState)(),c=u[0],s=u[1],d=(0,L.useState)(!1),m=d[0],f=d[1],p=(0,L.useState)(!1),h=p[0],y=p[1],v=(0,L.useCallback)(function(){var e,n,t;e={groupId:r,communityId:a.communityId,announcementChannelId:null!==(t=null==c?void 0:c.id)&&void 0!==t?t:""},n=e.groupId,t=e.communityId,e=e.announcementChannelId,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,U.ConfigureGroup,{dialogType:C.ChangeChannel,dialogState:E.Started,entityType:I.Group,entityId:n,guildedServerId:t,announcementChannelId:e}),f(!0)},[r,a.communityId,null==c?void 0:c.id]),e=(0,L.useCallback)(function(){f(!1)},[]),o=(0,L.useCallback)(function(){var e,n,t;e={groupId:r,communityId:a.communityId,announcementChannelId:null!==(t=null==c?void 0:c.id)&&void 0!==t?t:""},n=e.groupId,t=e.communityId,e=e.announcementChannelId,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,U.ConfigureGroup,{dialogType:C.Unlink,dialogState:E.Started,entityType:I.Group,entityId:n,guildedServerId:t,announcementChannelId:e}),y(!0)},[r,a.communityId,null==c?void 0:c.id]),u=(0,L.useCallback)(function(){y(!1)},[]),g=(0,L.useCallback)(function(){return be(void 0,void 0,void 0,function(){var n;return Ce(this,function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,w(a.communityId)];case 1:return n=e.sent(),(n=n.channels.find(function(e){return e.id===a.announcementChannelId}))&&s(n),[3,3];case 2:return l(!1),[7];case 3:return[2]}})})},[a.communityId,a.announcementChannelId]),d=(0,L.useCallback)(function(){return be(void 0,void 0,void 0,function(){return Ce(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return e.sent(),[4,g()];case 2:return e.sent(),[2]}})})},[t,g]);(0,L.useEffect)(function(){g()},[g]);p=(0,L.useMemo)(function(){return N.urls.getViewCommunityUrl(a.communityId)},[a.communityId]);return j().createElement("div",{className:"announcements-channel-configurator"},j().createElement("div",{className:"announcements-channel-configurator-community-icon-container"},j().createElement("div",{className:"announcements-channel-configurator-community-icon"})),j().createElement("div",{className:"announcements-channel-configurator-description"},j().createElement("h2",null,a.name),i?null:c?j().createElement("div",null,j().createElement("span",null,n("Description.ConnectedTo")),j().createElement("span",{className:"font-bold"}," #"+c.name+" "),j().createElement("span",null,n("Label.Channel").toLocaleLowerCase())):j().createElement("div",null,n("Description.LinkNewChannel")),j().createElement("div",{className:"announcements-channel-configurator-description-buttons"},j().createElement(F,{variant:O.Button.variants.cta,size:O.Button.sizes.small,href:p,label:n("Action.ViewCommunity")}),i||c?null:j().createElement(O.Button,{variant:O.Button.variants.secondary,size:O.Button.sizes.small,onClick:v},n("Action.LinkChannel")))),j().createElement("div",{className:"announcements-channel-configurator-menu"},j().createElement(O.Popover,{id:"announcements-channel-configurator-dropdown-menu",button:j().createElement(O.IconButton,{iconName:"more",size:O.IconButton.sizes.small,onClick:he}),trigger:"click",placement:"bottom"},j().createElement("ul",{className:"dropdown-menu",role:"menu"},j().createElement("li",null,j().createElement(O.Button,{variant:O.Button.variants.secondary,onClick:v},n("Label.ChangeChannel"))),j().createElement("li",null,j().createElement(O.Button,{variant:O.Button.variants.secondary,onClick:o},n("Label.UnlinkCommunity")))))),h&&j().createElement(H,{onConfirm:t,onClose:u,groupId:r,communityInfo:a}),m&&j().createElement(ge,{groupId:r,communityInfo:a,onClose:e,onUpdateSuccess:d}))},t),Ie=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Ne=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},we=(0,n.withTranslations)(function(e){var l=e.groupId,n=e.defaultName,t=e.handleContinue,r=e.handleCancel,a=e.translate,o=(0,L.useState)(n),i=o[0],u=o[1],e=(0,L.useState)(null),c=e[0],s=e[1],o=(0,L.useState)(!1),d=o[0],m=o[1],e=(0,L.useState)(!1),f=e[0],p=e[1],h=(0,L.useCallback)(function(o,i){return Ie(void 0,void 0,void 0,function(){var a;return Ne(this,function(e){switch(e.label){case 0:m(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,(n=o,t=l,r={asyncValidation:i.asyncValidation},Ie(void 0,void 0,Promise,function(){return Ne(this,function(e){switch(e.label){case 0:return n.length<N.limits.communityNameMinLength?[2,"Error.CommunityNameValidationTooShort"]:r.asyncValidation?[4,S(t,{name:n})]:[3,2];case 1:if(!e.sent().nameIsValid)return[2,"Error.CommunityNameValidationInvalid"];e.label=2;case 2:return[2,null]}})}))];case 2:return a=e.sent(),s(a),[3,4];case 3:return m(!1),[7];case 4:return[2]}var n,t,r})})},[l]),o=(0,L.useCallback)(function(){p(!0),h(i,{asyncValidation:!0})},[i,h]);(0,L.useEffect)(function(){f&&null===c&&!d&&t(i)},[c,d,i,t,f]);e=(0,L.useCallback)(function(e){p(!1);e=e.target.value;u(e),h(e,{asyncValidation:!1})},[h]);return(0,L.useEffect)(function(){h(n,{asyncValidation:!0})},[h,n]),j().createElement(O.Modal.Body,null,j().createElement("div",{className:"create-community-form-image"},j().createElement(oe.Thumbnail2d,{type:oe.ThumbnailTypes.groupIcon,targetId:l,size:oe.ThumbnailGameIconSize.size150})),j().createElement("div",{className:"community-dialog-section"},a("Description.NameYourCommunity")),j().createElement("div",{className:"create-community-form-input"},j().createElement("label",{className:"text-label",htmlFor:"create-community-name-input"},a("Label.CommunityName")),j().createElement("input",{id:"create-community-name-input",type:"text","focus-me":"true",placeholder:n,minLength:N.limits.communityNameMinLength,maxLength:N.limits.communityNameMaxLength,className:"form-control input-field",autoComplete:"off",onChange:e,value:i}),j().createElement("p",{className:"create-community-form-input-error"},c&&a(c))),j().createElement(_,{primaryButtonProps:{label:a("Action.Continue"),disabled:!!c||d,onClick:o},secondaryButtonProps:{label:a("Action.Cancel"),onClick:r}}))},t),Me=(0,n.withTranslations)(function(e){var n=e.handleCancel,t=e.handleContinue,r=e.handleOpenLinkDialog,a=e.handleError,o=e.translate,i=(0,L.useState)(!1),l=i[0],u=i[1],c=(0,L.useState)(!1),s=c[0],d=c[1],m=(0,L.useCallback)(function(){u(!0)},[]),e=(0,L.useCallback)(function(e){d(e.target.checked)},[]),i=(0,L.useMemo)(function(){return{__html:o("Label.AcceptGuildedTerms",{termsLinkStart:'<a href="'+N.urls.guildedTermsUrl+'" rel="noopener" target="_blank">',termsLinkEnd:"</a>",privacyLinkStart:'<a href="'+N.urls.guildedPrivacyPolicyUrl+'" rel="noopener" target="_blank">',privacyLinkEnd:"</a>"})}},[o]),c=(0,L.useCallback)(function(e){"Enter"===e.key&&r()},[r]);return l?j().createElement(O.Modal.Body,null,j().createElement(W,{guildedUser:{userId:"placeholder",username:z.CurrentUser.name,profilePicture:""},caption:o("Label.CreatingGuildedAccountAs")}),j().createElement("div",{className:"community-dialog-section align-left"},o("Description.CreatingGuildedAccount")),j().createElement("div",{className:"community-dialog-section align-left"},o("Description.AlreadyHaveAGuildedAccount")," ",j().createElement("a",{role:"button",className:"link-existing-community-link",onClick:r,onKeyDown:c,tabIndex:0},o("Action.LinkExistingCommunity"))),j().createElement("div",{className:"community-dialog-section accept-guilded-terms"},j().createElement("input",{className:"accept-guilded-terms-checkbox",id:"accept-guilded-terms",type:"checkbox",onChange:e,checked:s,tabIndex:0})," ",j().createElement("label",{htmlFor:"accept-guilded-terms"},j().createElement("span",{className:"accept-guilded-terms-label",dangerouslySetInnerHTML:i}))),j().createElement(_,{primaryButtonProps:{label:o("Action.Continue"),disabled:!s,onClick:t},secondaryButtonProps:{label:o("Action.Cancel"),onClick:n}})):j().createElement(J,{handleContinue:t,handleCancel:n,handleAccountNotFound:m,handleError:a})},t),ke=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Te=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}};function Se(e){var n=e.communityId,t=e.handleCancel,r=e.handleContinue,a=e.handleError,e=(0,L.useCallback)(function(){r(null)},[r]);return j().createElement(re,{communityId:n,handleCancel:t,handleContinue:r,handleChannelsNotFound:e,handleError:a})}function xe(e){var i=e.groupId,l=e.communityId,u=e.announcementChannelId,c=e.eventContext,n=e.handleClose,s=e.handleError,t=(0,L.useState)(),e=t[0],d=t[1],r=(0,L.useCallback)(function(){return Pe(void 0,void 0,void 0,function(){var o;return Oe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,v(i,l,u)];case 1:return o=e.sent(),d(o),n={groupId:i,communityId:l,announcementChannelId:o.announcementChannelId,context:c},t=n.groupId,r=n.communityId,a=n.announcementChannelId,n=n.context,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,n,{dialogType:C.Link,dialogState:E.Completed,entityType:I.Group,entityId:t,guildedServerId:r,announcementChannelId:a}),[3,3];case 2:return e.sent(),s(),[3,3];case 3:return[2]}var n,t,r,a})})},[i,l,u,c,s]);return(0,L.useEffect)(function(){r()},[r]),e?j().createElement(ce,{groupId:i,communityInfo:e,handleClose:n}):j().createElement(O.Loading,null)}(a=ve=ve||{})[a.FORM_INPUT=0]="FORM_INPUT",a[a.ACCOUNT_FETCH=1]="ACCOUNT_FETCH",a[a.CREATE=2]="CREATE";var De,Ae=(0,n.withTranslations)(function(e){var n=e.groupId,t=e.defaultName,r=e.eventContext,a=e.onClose,o=e.onCreateSuccess,i=e.openLinkCommunityDialog,l=e.translate,u=(0,L.useState)(ve.FORM_INPUT),c=u[0],s=u[1],d=(0,L.useState)(""),m=d[0],f=d[1],p=fe(),h=p.errorState,y=p.handleError,v=p.clearError,g=h.hasError,e=h.canRetry,b=(0,L.useCallback)(function(){o(),a()},[o,a]),u=(0,L.useCallback)(function(){(c===ve.CREATE?b:a)()},[c,a,b]),d=(0,L.useCallback)(function(e){f(e),s(ve.ACCOUNT_FETCH)},[]),p=(0,L.useCallback)(function(){s(ve.CREATE)},[]),h=(0,L.useCallback)(function(){a(),i()},[a,i]);return j().createElement(O.Modal,{className:"create-community-dialog",show:!0,size:"md",backdrop:"static"},j().createElement(O.Modal.Header,{title:l("Heading.CreateCommunity"),onClose:u}),g?j().createElement(pe,{canRetry:e,handleRetry:v,handleClose:a}):j().createElement(L.Fragment,null,c===ve.FORM_INPUT&&j().createElement(we,{groupId:n,defaultName:t,handleCancel:a,handleContinue:d}),c===ve.ACCOUNT_FETCH&&j().createElement(Me,{handleCancel:a,handleContinue:p,handleOpenLinkDialog:h,handleError:y}),c===ve.CREATE&&j().createElement(ye,{groupId:n,communityName:m,eventContext:r,handleClose:b,handleError:y})))},t),a=Bn(648),Ue=Bn.n(a),ze=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Le=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},je=(0,n.withTranslations)(function(e){var n=e.handleCancel,t=e.handleContinue,r=e.handleError,a=e.openCreateCommunityDialog,o=e.translate,i=(0,L.useState)(),l=i[0],u=i[1],c=(0,L.useState)(!0),e=c[0],s=c[1],i=(0,L.useState)(),d=i[0],m=i[1],f=(0,L.useCallback)(function(){return ze(void 0,void 0,void 0,function(){var n;return Le(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,h()];case 1:return n=e.sent(),u(n),s(!1),[3,3];case 2:return e.sent(),r(),[3,3];case 3:return[2]}})})},[r]),c=(0,L.useCallback)(function(){d&&t(d)},[t,d]),i=(0,L.useCallback)(function(){n(),a()},[n,a]);return(0,L.useEffect)(function(){f()},[f]),e?j().createElement(O.Loading,null):null!=l&&l.length?j().createElement(O.Modal.Body,null,j().createElement("div",null,o("Description.SelectGuildedServer")),j().createElement("ul",{className:"selectable-list-item-list"},l.map(function(e){var n=e.serverId,t=e.name,r=e.iconUrl,a=e.memberCount;return e.isAdmin?j().createElement($,{key:n,iconUrl:null!=r?r:Ue(),title:t,subtitle:o("Label.MembersCount",{memberCount:a}),selected:n===d,onClick:function(){return m(n)}}):null})),j().createElement(_,{primaryButtonProps:{label:o("Action.Continue"),disabled:!d,onClick:c},secondaryButtonProps:{label:o("Action.Cancel"),onClick:n}})):j().createElement(O.Modal.Body,null,j().createElement("div",null,o("Description.NoGuildedServersFound")),j().createElement(_,{primaryButtonProps:{label:o("Action.Continue"),onClick:i},secondaryButtonProps:{label:o("Action.Cancel"),onClick:n}}))},t),Pe=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Oe=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}};(a=De=De||{})[a.ACCOUNT_FETCH=0]="ACCOUNT_FETCH",a[a.SERVER_SELECT=1]="SERVER_SELECT",a[a.CHANNEL_SELECT=2]="CHANNEL_SELECT",a[a.CREATE_LINK=3]="CREATE_LINK";var Ge,Be=(0,n.withTranslations)(function(e){var n=e.groupId,t=e.eventContext,r=e.onClose,a=e.onLinkSuccess,o=e.openCreateCommunityDialog,i=e.translate,l=(0,L.useState)(De.ACCOUNT_FETCH),u=l[0],c=l[1],s=(0,L.useState)(""),d=s[0],m=s[1],f=(0,L.useState)(),p=f[0],h=f[1],y=fe(),v=y.errorState,g=y.handleError,b=y.clearError,e=v.hasError,l=v.canRetry,C=(0,L.useCallback)(function(){a(),r()},[a,r]),s=(0,L.useCallback)(function(){(u===De.CREATE_LINK?C:r)()},[u,r,C]),f=(0,L.useCallback)(function(){c(De.SERVER_SELECT)},[]),y=(0,L.useCallback)(function(e){m(e),c(De.CHANNEL_SELECT)},[]),v=(0,L.useCallback)(function(e){h(e),c(De.CREATE_LINK)},[]);return j().createElement(O.Modal,{className:"link-community-dialog",show:!0,size:"md",backdrop:"static"},j().createElement(O.Modal.Header,{title:i("Heading.LinkCommunity"),onClose:s}),e?j().createElement(pe,{canRetry:l,handleRetry:b,handleClose:r}):j().createElement(L.Fragment,null,u===De.ACCOUNT_FETCH&&j().createElement(q,{handleCancel:r,handleContinue:f,handleError:g}),u===De.SERVER_SELECT&&j().createElement(je,{handleCancel:r,handleContinue:y,handleError:g,openCreateCommunityDialog:o}),u===De.CHANNEL_SELECT&&j().createElement(Se,{communityId:d,handleCancel:r,handleContinue:v,handleError:g}),u===De.CREATE_LINK&&j().createElement(xe,{groupId:n,communityId:d,announcementChannelId:null!=p?p:null,eventContext:t,handleClose:C,handleError:g})))},t),Re=(0,n.withTranslations)(function(e){var t=e.group,n=e.className,r=void 0===n?"":n,a=e.refetchCommunityInfo,o=e.eventContext,i=e.translate,l=(0,L.useState)(!1),u=l[0],c=l[1],s=(0,L.useCallback)(function(){return c(!1)},[]),d=(0,L.useCallback)(function(){var e,n;e={groupId:t.id,context:o},n=e.groupId,e=e.context,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,e,{dialogType:C.Link,dialogState:E.Started,entityType:I.Group,entityId:n}),c(!0)},[t.id,o]),n=(0,L.useState)(!1),e=n[0],m=n[1],l=(0,L.useCallback)(function(){return m(!1)},[]),n=(0,L.useCallback)(function(){var e,n;e={groupId:t.id,context:o},n=e.groupId,e=e.context,B.eventStreamService.sendEventWithTarget(b.CommunityDialogStateChanged,e,{dialogType:C.Create,dialogState:E.Started,entityType:I.Group,entityId:n}),m(!0)},[t.id,o]);return j().createElement("div",{className:Z()("announcements-upsell",r)},j().createElement("h2",null,i("Heading.AnnouncementsUpsell")),j().createElement("div",null,i("Description.AnnouncementsUpsell")),j().createElement("div",{className:"announcements-upsell-buttons"},j().createElement(O.Button,{onClick:n,variant:"growth"},i("Action.CreateCommunity")),j().createElement(O.Button,{onClick:d,variant:"secondary"},i("Action.LinkCommunity"))),e&&j().createElement(Ae,{groupId:t.id,defaultName:t.name,eventContext:o,onClose:l,onCreateSuccess:a,openLinkCommunityDialog:d}),u&&j().createElement(Be,{groupId:t.id,eventContext:o,onClose:s,onLinkSuccess:a,openCreateCommunityDialog:n}))},t);(a=Ge=Ge||{}).Private="private",a.Public="public";var Qe=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},He=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},Ye=(0,n.withTranslations)(function(e){var n=e.communityInfo,t=e.groupId,r=e.translate,e=(0,L.useState)(n.visibility),a=e[0],o=e[1],n=(0,L.useState)(!1),e=n[0],i=n[1],n=(0,L.useCallback)(function(){return Qe(void 0,void 0,void 0,function(){var n;return He(this,function(e){switch(e.label){case 0:n=a===Ge.Public?Ge.Private:Ge.Public,o(n),e.label=1;case 1:return e.trys.push([1,3,4,5]),i(!0),[4,M(t,{visibility:n})];case 2:return e.sent(),[3,5];case 3:return e.sent(),o(a),[3,5];case 4:return i(!1),[7];case 5:return[2]}})})},[a,t]);return j().createElement("div",{className:"community-layout-config-section"},j().createElement("div",{className:"community-layout-config-section-row"},j().createElement("span",null,r("Label.JoinCommunityVisibility")),j().createElement(O.Toggle,{className:"community-layout-config-section-row-toggle",isOn:a===Ge.Public,isDisabled:e,onToggle:n})))},t),Fe=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Ve=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},_e=(0,n.withTranslations)(function(e){var t=e.group,n=e.translate,r=(0,L.useState)(!0),a=r[0],o=r[1],i=(0,L.useState)(null),e=i[0],l=i[1],r=(0,L.useState)(null),i=r[0],u=r[1],c=(0,L.useCallback)(function(){return Fe(void 0,void 0,void 0,function(){var n;return Ve(this,function(e){switch(e.label){case 0:o(!0),l(null),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,G(t.id)];case 2:return n=e.sent(),u(n),[3,5];case 3:return n=e.sent(),l(n),u(null),[3,5];case 4:return o(!1),[7];case 5:return[2]}})})},[t]),r=(0,L.useCallback)(function(){return Fe(void 0,void 0,void 0,function(){return Ve(this,function(e){switch(e.label){case 0:return a?[2]:[4,c()];case 1:return e.sent(),[2]}})})},[a,c]);return(0,L.useEffect)(function(){c()},[c]),(0,L.useEffect)(function(){x({groupId:t.id,exposureType:"groupAnnouncementsConfigSection",context:U.ConfigureGroup})},[t.id]),a?j().createElement(O.Loading,null):e?j().createElement(le,{title:n("Heading.CommunityDialogError"),message:n("Description.CommunityDialogError")}):i?j().createElement("div",{className:"section configure-group-guilded"},j().createElement("div",{className:"container-header"},j().createElement("h2",null,n("Heading.Announcements"))),j().createElement("div",{className:"section-content"},j().createElement(Ee,{communityInfo:i,refetchCommunityInfo:r,groupId:t.id})),j().createElement("div",{className:"container-header"},j().createElement("h2",null,n("Heading.Community"))),j().createElement("div",{className:"section-content"},j().createElement(Ye,{communityInfo:i,groupId:t.id}))):j().createElement("div",{className:"section configure-group-guilded"},j().createElement("div",{className:"container-header"},j().createElement("h2",null,n("Heading.Announcements"))),j().createElement("div",{className:"section-content"},j().createElement("div",{className:"group-announcements-config-section-upsell"},j().createElement("div",{className:"group-announcements-config-section-upsell-icon"}),j().createElement(Re,{refetchCommunityInfo:r,group:t,className:"group-announcements-config-section-upsell-body",eventContext:U.ConfigureGroup}))))},t),Ze=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},We=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},Ke=(0,n.withTranslations)(function(e){var t=e.communityInfo,n=e.groupId,r=e.translate,a=(0,L.useState)(!1),e=a[0],o=a[1],i=(0,L.useCallback)(function(){return Ze(void 0,void 0,void 0,function(){var n;return We(this,function(e){switch(e.label){case 0:if(null==t)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w(t.communityId)];case 2:return n=e.sent(),n.channels.some(function(e){return e.id===t.announcementChannelId})||o(!0),[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}})})},[t]);return(0,L.useEffect)(function(){t&&Promise.resolve(i())},[t,i]),j().createElement("div",{className:"guilded-announcement-upsell"},j().createElement("div",{className:"guilded-announcement-upsell-banner"}),j().createElement("div",{className:"guilded-announcement-upsell-description"},j().createElement("h2",null,r("Heading.PostFirstAnnouncement")),j().createElement("p",null,r("Description.PostFirstAnnouncement")),j().createElement("div",{className:"guilded-announcement-upsell-description-button-container"},j().createElement(F,{href:e?N.urls.getConfigureGroupGuildedSectionUrl(n):N.urls.getViewAnnouncementChannelUrl(t.communityId,t.announcementChannelId),openInNewTab:!e,variant:O.Button.variants.primary,label:r("Action.PostFirstAnnouncement")}))))},t);function Xe(e){var n=e.group,t=e.eventContext,r=e.refetchCommunityInfo,e=e.onDismiss;return(0,L.useEffect)(function(){x({groupId:n.id,exposureType:"shoutUpsellBannerSeen",context:t})},[n.id,t]),j().createElement("div",{className:"dismissable-announcement-upsell-banner"},j().createElement(Je,{className:"dismissable-announcement-upsell-banner-icon",variant:"white",onClick:e}),j().createElement(Re,{className:"dismissable-announcement-upsell-banner-body",refetchCommunityInfo:r,group:n,eventContext:"groupHomepage"}))}(a=function(e){var n=e.className,t=e.variant,e=e.onClick,t=t?"icon-close-"+t:"icon-close";return j().createElement(O.Button,{variant:O.Button.variants.secondary,size:O.Button.sizes.extraSmall,width:O.Button.widths.default,className:Z()(n,"close"),onClick:e},j().createElement("span",{className:t}))}).defaultProps={className:void 0,variant:void 0};var Je=a;function qe(){return"Roblox.GroupAnnouncements.DismissibleShoutUpsellBanner:"+(z.CurrentUser.isAuthenticated&&z.CurrentUser.userId||"")}function $e(e){return"Roblox.GroupAnnouncements.NotificationUpsellBanner:"+(z.CurrentUser.isAuthenticated&&z.CurrentUser.userId||"")+":"+e}function en(e){e=$e(e);B.localStorageService.setLocalStorage(e,!0)}function nn(e){var n=e.initialCount,t=e.userHasInteracted,r=e.announcementId,a=e.groupId,n=(e=(0,L.useState)(n))[0],o=e[1],i=(t=(0,L.useState)(t))[0],l=t[1],u=(t=(0,L.useState)(i))[0],c=t[1],s=(t=(0,L.useState)(null))[0],d=t[1],m=(0,L.useCallback)(function(){var e,n=!u;c(n),o(function(e){return e+(n?1:-1)}),s&&(clearTimeout(s),d(null)),n!==i&&(e=setTimeout(function(){return sn(void 0,void 0,void 0,function(){return dn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,(n?k:T)({announcementId:r,groupId:a})];case 1:return e.sent(),R({groupId:a,clickTargetType:n?"shoutReactionAdded":"shoutReactionRemoved",clickTargetId:r,context:U.GroupHomepage}),l(n),[3,4];case 2:return e.sent(),o(function(e){return e+(n?-1:1)}),c(i),[3,4];case 3:return d(null),[7];case 4:return[2]}})})},1e3),d(e))},[r,a,i,u,s]),t=z.CurrentUser.isAuthenticated;return j().createElement("div",{className:Z()("reaction-button",t&&"interactable",u&&"interacted"),onClick:t?m:void 0,onKeyDown:t?function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m())}:void 0,role:"button",tabIndex:0,"aria-pressed":u},j().createElement("span",{className:"reaction-button-icon icon-votes-gray"}),j().createElement("span",{className:"reaction-button-count"},f.abbreviateNumber.getAbbreviatedValue(n,void 0,1e3)))}var tn=RobloxBadges,rn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},an=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},on=function(r){return rn(void 0,void 0,Promise,function(){var n,t;return an(this,function(e){switch(e.label){case 0:return t=N.urls.getUsersInfoURL,t={url:t,withCredentials:!(n={userIds:[r]})},[4,f.httpService.post(t,n)];case 1:return[2,e.sent().data.data]}})})},ln=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},un=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},cn=(0,n.withTranslations)(function(e){var t=e.announcement,n=e.intl,r=(0,L.useState)(!0),a=r[0],o=r[1],e=(0,L.useState)(null),r=e[0],i=e[1],l=(0,L.useCallback)(function(){return ln(void 0,void 0,void 0,function(){var n;return un(this,function(e){switch(e.label){case 0:o(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,on(t.createdBy)];case 2:return(n=e.sent()).length&&i(n[0]),[3,5];case 3:return e.sent(),i(null),[3,5];case 4:return o(!1),[7];case 5:return[2]}})})},[t.createdBy]);return(0,L.useEffect)(function(){l()},[l]),a||!r?null:j().createElement("div",{className:"user-card"},j().createElement(O.Link,{className:"avatar-card-link",url:z.Endpoints.getAbsoluteUrl("/users/"+r.id+"/profile")},j().createElement(oe.Thumbnail2d,{type:oe.ThumbnailTypes.avatarHeadshot,size:oe.ThumbnailAvatarHeadshotSize.size48,targetId:r.id,containerClass:"user-card-avatar avatar-headshot-sm",altName:r.name})),j().createElement("div",{className:"user-card-body"},j().createElement("div",{className:"user-card-body-name-container"},j().createElement(O.Link,{url:z.Endpoints.getAbsoluteUrl("/users/"+r.id+"/profile"),className:"text-name name"},r.displayName),r.hasVerifiedBadge&&j().createElement("span",{className:"user-card-body-name-container-badge"},j().createElement(tn.VerifiedBadgeIconContainer,{size:tn.BadgeSizes.SUBHEADER}))),j().createElement("div",{className:"text-date-hint"},n.getDateTimeFormatter().getFullDate(t.createdAt))))},t),sn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},dn=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},a=RobloxItemPurchase,mn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},fn=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},pn=function(t,r){return mn(void 0,void 0,Promise,function(){var n;return fn(this,function(e){switch(e.label){case 0:return n={url:N.urls.getCatalogItemDetailsUrl(t,r),withCredentials:!0},[4,f.httpService.get(n)];case 1:return[2,e.sent().data]}})})},hn=function(){return(hn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},yn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},vn=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},gn=(a=(0,a.createItemPurchase)())[0],bn=a[1],Cn=(0,n.withTranslations)(function(e){var n,t,r=e.id,a=e.groupId,o=e.translate,i=(0,L.useState)(!1),l=i[0],u=i[1],e=(0,L.useState)(null),c=e[0],s=e[1],d=(0,L.useCallback)(function(){return yn(void 0,void 0,void 0,function(){var n;return vn(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,z.ItemDetailsHydrationService.getItemDetails([{id:r,itemType:"asset"}],!1,!0)];case 1:return n=e.sent(),s(n[0]),[4,pn("asset",r)];case 2:return n=e.sent(),u(n.owned),[3,4];case 3:return e.sent(),s(null),[3,4];case 4:return[2]}})})},[r]);if((0,L.useEffect)(function(){d()},[r,d]),!c)return null;var i=j().createElement(oe.Thumbnail2d,{targetId:c.id,type:oe.ThumbnailTypes.assetThumbnail,size:oe.DefaultThumbnailSize}),e=(null===(e=c.collectibleItemDetails)||void 0===e?void 0:e.purchaseInfo)||c.purchaseInfo,m={translate:o,productId:c.productId,expectedCurrency:1,expectedPrice:(null==e?void 0:e.purchasePrice)||0,thumbnail:i,assetName:c.name,assetType:c.itemType,expectedSellerId:c.creatorTargetId,sellerName:c.creatorName,sellerType:c.creatorType,collectibleItemId:c.collectibleItemId,collectibleProductId:null!=e&&e.purchaseFromReseller?null===(n=c.collectibleItemDetails)||void 0===n?void 0:n.lowestAvailableResaleProductId:null===(n=c.collectibleItemDetails)||void 0===n?void 0:n.collectibleProductId,collectibleItemInstanceId:null==e||!e.purchaseFromReseller||null===(m=c.collectibleItemDetails)||void 0===m?void 0:m.lowestAvailableResaleItemInstanceId,onPurchaseSuccess:function(){x({groupId:a,exposureType:"marketplaceEmbedPurchaseSuccess",exposureId:c.id.toString(),context:U.GroupHomepage})}},f=z.CurrentUser.isAuthenticated&&(null==e?void 0:e.purchasable)&&(!(null!=e&&e.ownershipLimit)||!l);return j().createElement(j().Fragment,null,j().createElement("div",{className:"announcement-display-marketplace-embed",onClick:function(e){R({groupId:a,clickTargetType:f?"marketplaceEmbedOpenModal":"marketplaceEmbedLink",clickTargetId:c.id.toString(),context:U.GroupHomepage}),f&&(e.preventDefault(),bn.start())},role:"button",tabIndex:0},j().createElement(O.ItemCard,{id:c.id,name:c.name,type:c.itemType,creatorName:c.creatorName,creatorType:c.creatorType,creatorTargetId:c.creatorTargetId,price:(null===(l=c.collectibleItemDetails)||void 0===l?void 0:l.purchaseInfo.purchasePrice)||(null===(t=c.purchaseInfo)||void 0===t?void 0:t.purchasePrice),lowestPrice:c.lowestPrice,unitsAvailableForConsumption:c.unitsAvailableForConsumption,itemStatus:c.itemStatus,priceStatus:c.priceStatus,premiumPricing:null===(t=c.premiumPricing)||void 0===t?void 0:t.premiumPriceInRobux,itemRestrictions:c.itemRestrictions,thumbnail2d:i})),j().createElement(gn,hn({},m)))},t);function En(e){var n=e.content,e=e.groupId;return(n=function(e){if(e=new RegExp(N.embedUrlRegexes.catalogItem).exec(e))return parseInt(e[2],10)}(n))?j().createElement("div",{className:"announcement-display-embed-row"},j().createElement(Cn,{id:n,groupId:e})):null}function In(){}var Nn=(0,n.withTranslations)(function(e){var n=e.announcement,t=e.groupId,r=e.policies,a=e.translate,o=n.title,i=n.content,l=n.imageURL,u=n.likeCount,c=n.userHasReactedToShout,s=n.announcementId,d=(0,L.useState)(!1),m=d[0],f=d[1],p=(0,L.useRef)(null);(0,L.useEffect)(function(){p.current&&400<p.current.offsetHeight&&f(!0)},[]);e=(0,L.useCallback)(function(){f(!m)},[m]),d=(0,L.useMemo)(function(){if(void 0===z.Linkify)return"";var e=i.escapeHTML();return z.Linkify.String(e)},[i]);return j().createElement("div",{className:"announcement-display"},j().createElement(cn,{announcement:n}),j().createElement("div",{className:"announcement-display-image-aspect-ratio-wrapper"},j().createElement("img",{className:"announcement-display-image-aspect-ratio-wrapper-content",src:l,alt:""})),j().createElement("h2",null,o),j().createElement("div",{className:"announcement-display-body"},j().createElement("p",{className:Z()("announcement-display-body-content",m&&"truncated"),ref:p,dangerouslySetInnerHTML:{__html:d}}),m&&j().createElement("button",{className:"announcement-display-show-more",type:"button",onClick:e},a("Action.ShowMore"))),r.displayMarketplaceEmbed&&j().createElement(En,{content:i,groupId:t}),j().createElement("div",{className:"announcement-display-reaction-row"},j().createElement(nn,{initialCount:u,userHasInteracted:c,groupId:t,announcementId:s})))},t),a=Bn(1547),wn=Bn.n(a),Mn=(0,n.withTranslations)(function(e){var n=e.communityInfo,e=e.translate;return j().createElement(F,{href:N.urls.getViewAnnouncementChannelUrl(n.communityId,n.announcementChannelId),variant:O.Button.variants.secondary,label:e("Action.ViewAllAnnouncements"),iconURL:wn()})},t),kn=(0,n.withTranslations)(function(e){var n=e.communityInfo,t=e.groupName,e=e.translate;return j().createElement("div",{className:"section community-link-display"},j().createElement("div",{className:"container-header"},j().createElement("h2",null,e("Heading.CommunityTitle"))),j().createElement("a",{className:"section-content community-link-display-link",href:N.urls.getJoinCommunityUrl(n.communityId),target:"_blank",rel:"noreferrer"},j().createElement("div",{className:"community-link-display-link-icon-container"},j().createElement("div",{className:"community-link-display-link-icon"})),j().createElement("div",{className:"community-link-display-link-info-container"},j().createElement("div",null,j().createElement("h5",{className:"community-link-display-link-name"},n.name)),j().createElement("div",null,j().createElement("span",{className:"community-link-display-link-description text-default"},n.description||e("Description.CommunityDefault",{experienceName:t})))),j().createElement("div",{className:"community-link-display-link-visit-container"},j().createElement(O.Button,{variant:O.Button.variants.cta,onClick:In},e("Label.ViewButton")))))},r),Tn=(0,n.withTranslations)(function(e){var n=e.group,t=e.eventContext,r=e.onNotifyClicked,a=e.onDismiss,e=e.translate;return(0,L.useEffect)(function(){x({groupId:n.id,exposureType:"notificationsUpsellBannerSeen",context:t})},[n.id,t]),j().createElement("div",{className:"group-notifications-upsell-banner"},j().createElement("span",{className:"group-notifications-upsell-banner-icon icon-common-notification-bell"}),j().createElement("div",{className:"group-notifications-upsell-banner-content"},j().createElement("h3",{className:"group-notifications-upsell-banner-title"},e("Heading.NotificationsUpsell")),j().createElement("div",{className:"group-notifications-upsell-banner-description"},e("Description.NotificationsUpsell",{groupName:n.name}))),j().createElement(O.Button,{variant:O.Button.variants.primary,size:O.Button.sizes.small,width:O.Button.widths.default,className:"group-notifications-upsell-banner-notify",onClick:r},e("Action.NotifyMe")),j().createElement(Je,{className:"group-notifications-upsell-banner-close",onClick:a}))},t),Sn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},xn=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},Dn=function(r){return Sn(void 0,void 0,Promise,function(){var n,t;return xn(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupMembershipUrl(r),withCredentials:!0,retryable:!0},t={includeNotificationPreferences:!0},[4,f.httpService.get(n,t)];case 1:return[2,e.sent().data]}})})},An=function(r,a){return Sn(void 0,void 0,Promise,function(){var n,t;return xn(this,function(e){switch(e.label){case 0:return n={url:N.urls.getGroupNotificationPreferenceUrl(r),withCredentials:!0,retryable:!0},t={notificationsEnabled:a},[4,f.httpService.patch(n,t)];case 1:return e.sent(),[2]}})})},Un="UserCommunities.Groups.Notifications",zn=function(e,i,l,u){return new(l=l||Promise)(function(t,n){function r(e){try{o(u.next(e))}catch(e){n(e)}}function a(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Ln=function(t,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=r.call(t,l)}catch(e){n=[6,e],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},jn=(r=(0,O.createSystemFeedback)())[0],Pn=r[1],On=(0,n.withTranslations)(function(e){var r=e.group,n=e.propsCommunityInfo,t=e.isOwner,a=e.announcement,o=e.joinGroup,i=e.allowedToJoinGroup,l=e.policies,u=e.translate,c=(0,L.useState)(!1),s=c[0],d=c[1],m=(0,L.useState)(n),f=m[0],p=m[1],h=(0,L.useState)((N=qe(),!B.localStorageService.getLocalStorage(N))),y=h[0],v=h[1],g=(0,L.useCallback)(function(){var e;e=qe(),B.localStorageService.setLocalStorage(e,!0),v(!1),R({groupId:r.id,clickTargetType:"dismissShoutUpsellBanner",context:U.GroupHomepage})},[r.id]),b=(0,L.useState)(!1),C=b[0],E=b[1],e=(0,L.useState)(!1),c=e[0],I=e[1],m=(0,L.useState)((n=$e(n=r.id),!!B.localStorageService.getLocalStorage(n))),N=m[0],w=m[1],h=(0,L.useCallback)(function(){w(!0),en(r.id),R({groupId:r.id,clickTargetType:"dismissNotificationUpsellBanner",context:U.GroupHomepage})},[r.id]),b=(0,L.useState)(!1),M=b[0],k=b[1],e=(0,L.useState)(!1),T=e[0],S=e[1],x=(0,L.useCallback)(function(){return zn(void 0,void 0,void 0,function(){var n;return Ln(this,function(e){switch(e.label){case 0:return[4,z.ExperimentationService.getAllValuesForLayer(Un)];case 1:return n=e.sent(),I(null!==(n=null===(n=null==n?void 0:n.notificationsUpsellConfig)||void 0===n?void 0:n.inTreatment)&&void 0!==n&&n),[2]}})})},[]),n=(0,L.useCallback)(function(){return zn(void 0,void 0,void 0,function(){var n;return Ln(this,function(e){switch(e.label){case 0:d(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,G(r.id)];case 2:return n=e.sent(),p(n),[3,5];case 3:return e.sent(),p(null),[3,5];case 4:return d(!1),[7];case 5:return[2]}})})},[r]),D=(0,L.useCallback)(function(){return zn(void 0,void 0,void 0,function(){var n,t;return Ln(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Dn(r.id)];case 1:return t=e.sent(),k(null!==(n=null==t?void 0:t.isNotificationsEnabled)&&void 0!==n&&n),S(null!==(t=0!==(null===(t=null==t?void 0:t.userRole)||void 0===t?void 0:t.role.rank))&&t),[3,3];case 2:return e.sent(),k(!1),S(!1),[3,3];case 3:return[2]}})})},[r]),A=(0,L.useCallback)(function(t){return zn(void 0,void 0,void 0,function(){var n;return Ln(this,function(e){switch(e.label){case 0:n=!M,e.label=1;case 1:if(e.trys.push([1,7,,8]),R({groupId:r.id,clickTargetType:"toggleNotifications"+(n?"On":"Off"),context:t}),en(r.id),w(!0),k(n),!n||T||!i||!r.publicEntryAllowed)return[3,5];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,o()];case 3:return e.sent(),S(!0),[3,5];case 4:return e.sent(),k(!n),[2];case 5:return[4,An(r.id,n)];case 6:return e.sent(),[3,8];case 7:return e.sent(),k(!n),Pn.warning(u("Message.SubscribeToNotificationsError")),[3,8];case 8:return[2]}})})},[r.id,M,T,r.publicEntryAllowed,o,i,u]),m=(0,L.useCallback)(function(){return zn(void 0,void 0,void 0,function(){return Ln(this,function(e){switch(e.label){case 0:return[4,A(U.NotificationBell)];case 1:return e.sent(),[2]}})})},[A]),b=(0,L.useCallback)(function(){return zn(void 0,void 0,void 0,function(){return Ln(this,function(e){switch(e.label){case 0:return[4,A(U.NotificationUpsell)];case 1:return e.sent(),[2]}})})},[A]);(0,L.useEffect)(function(){f&&Promise.all([D(),x()])},[D,x,f]);e=null;if(f&&a&&((N=c&&(T||r.publicEntryAllowed&&i)&&!N&&!M)&&!C&&(E(!0),z.ExperimentationService.logLayerExposure(Un)),e=j().createElement(L.Fragment,null,N&&j().createElement(Tn,{group:r,onNotifyClicked:b,onDismiss:h,eventContext:U.GroupHomepage}),j().createElement(Nn,{groupId:r.id,announcement:a,policies:l}))),!f&&t&&y&&z.CurrentUser.is13orOver){y=document.getElementById("group-announcements-upsell-container");return y?((0,P.unmountComponentAtNode)(y),(0,P.createPortal)(j().createElement(Xe,{onDismiss:g,refetchCommunityInfo:n,group:r,eventContext:U.GroupHomepage}),y)):null}return f&&!a&&t&&z.CurrentUser.is13orOver&&(e=j().createElement(Ke,{communityInfo:f,groupId:r.id})),e?s?j().createElement(O.Loading,null):j().createElement("div",{className:"section group-announcements"},j().createElement("div",{className:"container-header group-announcements-header"},j().createElement("h2",null,u("Heading.Announcements")),!!a&&c&&j().createElement(O.Tooltip,{id:"group-notifications-tooltip",placement:"left",content:u(M?"Action.TurnNotificationsOff":"Action.TurnNotificationsOn")},j().createElement(O.Button,{variant:O.Button.variants.secondary,size:O.Button.sizes.extraSmall,width:O.Button.widths.default,className:"group-announcements-notifications-icon",onClick:m},j().createElement("span",{className:"icon-notifications-bell"+(M?" followed":""),"aria-label":"notify"})))),j().createElement("div",{className:"section-content"},e),f&&a&&z.CurrentUser.is13orOver&&j().createElement("div",{className:"group-announcements-view-all-button"},j().createElement(Mn,{communityInfo:f})),f&&f.visibility===Ge.Public&&z.CurrentUser.is13orOver&&j().createElement(kn,{groupName:r.name,communityInfo:f}),j().createElement(jn,null)):null},t),Gn=function(){return(Gn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},t={renderGroupAnnouncementsConfigSection:function(e,n){(0,P.unmountComponentAtNode)(e),(0,P.render)(j().createElement(_e,Gn({},n)),e)},renderGroupAnnouncementsSection:function(e,n){(0,P.unmountComponentAtNode)(e),(0,P.render)(j().createElement(On,Gn({},n)),e)}};Object.assign(e(),{GroupAnnouncementsService:t})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/d4cb7c07c30e06f35541cb2952d325d7-groupShouts.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupShouts");