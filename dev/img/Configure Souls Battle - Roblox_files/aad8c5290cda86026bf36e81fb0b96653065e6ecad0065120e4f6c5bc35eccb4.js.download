!function(){var n={2779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n))!n.length||(r=i.apply(null,n))&&e.push(r);else if("object"==o)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var a in n)s.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},r={};function an(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,an),t.exports}an.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return an.d(t,{a:t}),t},an.d=function(e,t){for(var n in t)an.o(t,n)&&!an.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},an.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function i(e){var t=e.category,n=e.isActive,r=e.onClick,o=(0,oe.useCallback)(function(){n||null!=r&&r(t.id)},[n,t.id,r]);return ae().createElement("div",{role:"button",tabIndex:0,className:j()("group-forums-category-pill",n&&"active",!!r&&"clickable"),onClick:n?void 0:o,onKeyDown:n?void 0:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o())}},t.name)}function c(e){return e=e.size,ae().createElement("div",{className:j()("group-forums-category-pill-skeleton","group-forums-skeleton",e&&"group-forums-category-pill-skeleton-length-"+e)})}var u,b=Roblox,e=an.n(b),oe=React,ae=an.n(oe),n=ReactDOM,z=ReactStyleGuide,K=ReactRouterDOM,t=ReactUtilities,r={common:[],feature:"Feature.Groups"},o=an(2779),j=an.n(o);function C(e){var t=e.categories,n=e.activeCategoryId,r=e.onSetActiveCategory,o=e.isLoading,a=e.locked,s=(0,oe.useRef)(null);return(0,oe.useEffect)(function(){if(!o){var e=function(){var e,t;s.current&&(t=(e=s.current).scrollLeft,e.scrollWidth<=t+e.clientWidth?s.current.classList.remove("list-vignette"):s.current.classList.add("list-vignette"))},t=s.current;return t&&(t.addEventListener("scroll",e),e()),function(){t&&t.removeEventListener("scroll",e)}}},[o]),o?ae().createElement("div",{className:"group-forums-categories-list list-vignette"},ae().createElement(c,{size:u.Small}),ae().createElement(c,{size:u.Large}),ae().createElement(c,{size:u.Medium}),ae().createElement(c,{size:u.Small}),ae().createElement(c,{size:u.Large})):ae().createElement("div",{className:j()("group-forums-categories-list",{"group-forums-categories-list-locked":a}),ref:s},t.map(function(e){return ae().createElement(i,{key:e.id,category:e,isActive:n===e.id,onClick:a?void 0:r})}))}function a(e){return b.EnvironmentUrls.websiteUrl+"/groups/"+e+"#!/forums"}(o=u=u||{}).Small="sm",o.Medium="md",o.Large="lg";var V,s={urls:{getUsersInfoURL:b.EnvironmentUrls.usersApi+"/v1/users"},StyleSize:u},l=CoreUtilities,m=b.EnvironmentUrls.groupsApi+"/v1/groups",f="/forums";function W(e){var t=e.userId,n=e.createdTime,e=e.userDisplayName,n=new Date(n);return ae().createElement("div",{className:"group-forums-user-display"},ae().createElement(z.Link,{className:"group-forums-user-display-avatar-username-link text-default",url:b.Endpoints.getAbsoluteUrl("/users/"+t+"/profile")},ae().createElement(F.Thumbnail2d,{type:F.ThumbnailTypes.avatarHeadshot,size:F.ThumbnailAvatarHeadshotSize.size48,targetId:t,containerClass:"group-forums-user-display-avatar-thumbnail",altName:e}),e),ae().createElement("div",{className:"user-display-time text-default"}," ","•"," ",ae().createElement("span",{className:"user-display-time-full-time",title:n.toLocaleString()},R(n))))}function g(e){var t=e.className,n=e.emoteUrl,r=e.size,o=e.onClick,a=(0,oe.useCallback)(function(e){o&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o()))},[o]),e=(0,oe.useMemo)(function(){return o?{onClick:o,onKeyDown:a,ariaLabel:"reaction",role:"button"}:{}},[o,a]);return ae().createElement("span",L({className:j()("reaction-emote",!!o&&"reaction-emote-clickable",t),style:(r=(n={emoteUrl:n,size:r}).emoteUrl,n=n.size,L({backgroundImage:"url('"+r+"')"},n&&{width:n+"px",height:n+"px"}))},e))}function h(){var e=(0,oe.useContext)(q);if(!e)throw new Error("useEmotes must be used within a EmotesProvider");return e}(o=V=V||{}).Post="post",o.Comment="comment",o.Reply="reply";var se={urls:{reportAbuse:function(e,t,n,r,o){return b.Endpoints.getAbsoluteUrl("/abuseReport/groupforumcomment?id="+e+"&stringId="+r+"&conversationId="+n+"&forumPostId="+t+(o?"&RedirectUrl="+encodeURIComponent(window.location.href):""))},getForumsPageUrl:a,getForumCategoriesEndpoint:function(e,t){return m+"/"+e+"/forums"+(t?"?archived=true":"")},getForumCategoryEndpoint:function(e,t,n){return void 0===n&&(n=!1),m+"/"+e+"/forums/"+t+(n?"?archived=true":"")},getForumPostsByIdsEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts?postIds="+n.join(",")},getForumPostsEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts"+(n?"?includeCommentCount=true":"")},getForumCommentsEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts/"+n+"/comments"},getForumCommentReactionsEndpoint:function(e,t,n,r){return m+"/"+e+"/forums/channels/"+t+"/comments/"+n+"/reactions/"+r},getArchiveForumCategoryEndpoint:function(e,t){return m+"/"+e+"/forums/"+t+"/archive"},getConfigureGroupRolesSectionUrl:function(e){return b.EnvironmentUrls.websiteUrl+"/groups/configure?id="+e+"#!/roles"},getForumPinnedPostsEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts/pinned"+(n?"?includeCommentCount=true":"")},toggleForumPostPinEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts/"+n+"/pin"},toggleForumPostLockEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts/"+n+"/lock"},deleteForumPostEndpoint:function(e,t,n){return m+"/"+e+"/forums/"+t+"/posts/"+n},forumCommentEndpoint:function(e,t,n,r){return m+"/"+e+"/forums/"+t+"/posts/"+n+"/comments/"+r},markForumPostAsReadEndpoint:function(e,t,n,r){return m+"/"+e+"/forums/"+t+"/posts/"+n+"/comments/"+r+"/read"}},limits:{categoryNameMinLength:1,categoryNameMaxLength:25,categoryDescriptionMinLength:1,categoryDescriptionMaxLength:130,maxNumberOfCategories:10,minNumberOfCategories:1,postTitleMaxLength:100,postContentMaxLength:1e3},pageCounts:{postsPerPage:10,commentsPerPage:10},router:{categoryRoute:f+"/:categoryId",postRoute:f+"/:categoryId/post/:postId",postEditRoute:f+"/:categoryId/post/:postId/edit",postCommentRoute:f+"/:categoryId/post/:postId/comment/:commentId",postCreateRoute:f+"/:categoryId/post/create",defaultRoute:f,getCategoryRoute:function(e){return f+"/"+e},getPostRoute:function(e,t){return f+"/"+e+"/post/"+t},getPostEditRoute:function(e,t){return f+"/"+e+"/post/"+t+"/edit"},getPostCreateRoute:function(e){return f+"/"+e+"/post/create"}},noOpFunctionRef:function(){},deepLinks:{groupForumPostUrl:function(e,t,n){return a(e)+"/"+t+"/post/"+n},groupForumCommentUrl:function(e,t,n,r){return a(e)+"/"+t+"/post/"+n+"/comment/"+r}},CommentVariants:V},d=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},p=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},k=function(n,r){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCategoriesEndpoint(n,r),withCredentials:!0},[4,l.httpService.get(t)];case 1:return t=e.sent(),(t=t.data).data.sort(function(e,t){e=e.name.toUpperCase(),t=t.name.toUpperCase();return e<t?-1:t<e?1:0}),[2,t]}})})},E=function(r,o){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCategoriesEndpoint(r,!1),withCredentials:!0},n={name:o},[4,l.httpService.post(t,n)];case 1:return[2,e.sent().data]}})})},v=function(n,r,o){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCategoryEndpoint(n,r,o),withCredentials:!0},[4,l.httpService.delete(t)];case 1:return e.sent(),[2]}})})},w=function(r,o,a){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCategoryEndpoint(r,o),withCredentials:!0},n={name:a},[4,l.httpService.patch(t,n)];case 1:return[2,e.sent().data]}})})},ie=function(n,r,o){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumPostsByIdsEndpoint(n,r,o),withCredentials:!0},[4,l.httpService.get(t)];case 1:return[2,e.sent().data]}})})},y=function(n,r,o,a){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("limit",o.toString()),a&&t.append("cursor",a),t={url:se.urls.getForumPostsEndpoint(n,r,!0)+"&"+t.toString(),withCredentials:!0},[4,l.httpService.get(t)];case 1:return[2,e.sent().data]}})})},ce=function(n,r,o,a,s,i){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("limit",a.toString()),s&&t.append("cursor",s),i&&t.append("commentId",i),t={url:se.urls.getForumCommentsEndpoint(n,r,o)+"?"+t.toString(),withCredentials:!0},[4,l.httpService.get(t)];case 1:return[2,e.sent().data]}})})},N=function(r,o,a){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getArchiveForumCategoryEndpoint(r,o),withCredentials:!0},n={isArchived:a},[4,l.httpService.patch(t,n)];case 1:return e.sent(),[2]}})})},x=function(n,r){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumPinnedPostsEndpoint(n,r,!0),withCredentials:!0},[4,l.httpService.get(t)];case 1:return[2,e.sent().data]}})})},P=function(r,o,a,s){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumPostsEndpoint(r,o,!1),withCredentials:!0},n={title:a,content:s},[4,l.httpService.post(t,n)];case 1:return[2,e.sent().data]}})})},ue=function(r,o,a,s,i){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.forumCommentEndpoint(r,o,a,s),withCredentials:!0},n={content:i},[4,l.httpService.patch(t,n)];case 1:return[2,e.sent().data]}})})},I=function(r,o,a,s){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.toggleForumPostPinEndpoint(r,o,a),withCredentials:!0},n={isPinned:s},[4,l.httpService.patch(t,n)];case 1:return e.sent(),[2]}})})},S=function(r,o,a,s){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.toggleForumPostLockEndpoint(r,o,a),withCredentials:!0},n={isLocked:s},[4,l.httpService.patch(t,n)];case 1:return e.sent(),[2]}})})},T=function(n,r,o){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.deleteForumPostEndpoint(n,r,o),withCredentials:!0},[4,l.httpService.delete(t)];case 1:return e.sent(),[2]}})})},le=function(r,o,a,s,i){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCommentsEndpoint(r,o,a),withCredentials:!0},n={content:s,repliesToPostCommentId:i},[4,l.httpService.post(t,n)];case 1:return[2,e.sent().data]}})})},me=function(n,r,o,a){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.forumCommentEndpoint(n,r,o,a),withCredentials:!0},[4,l.httpService.delete(t)];case 1:return e.sent(),[2]}})})},_=function(n,r,o,a,s){return d(void 0,void 0,Promise,function(){var t;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.getForumCommentReactionsEndpoint(n,r,o,a),withCredentials:!0},s?[4,l.httpService.post(t)]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,l.httpService.delete(t)];case 3:e.sent(),e.label=4;case 4:return[2]}})})},fe=function(r,o,a,s){return d(void 0,void 0,Promise,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return t={url:se.urls.markForumPostAsReadEndpoint(r,o,a,s),withCredentials:!0},n={isRead:!0},[4,l.httpService.patch(t,n)];case 1:return e.sent(),[2]}})})},F=RobloxThumbnails,R=function(e){var t=new Date,n=Math.round((t.getTime()-e.getTime())/1e3),e=[{label:"y",seconds:31536e3},{label:"mo",seconds:2592e3},{label:"w",seconds:604800},{label:"d",seconds:86400},{label:"h",seconds:3600},{label:"m",seconds:60},{label:"s",seconds:1}].find(function(e){return 1<=Math.floor(n/e.seconds)});return e?""+Math.floor(n/e.seconds)+e.label:"now"},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=b.EnvironmentUrls.groupsApi+"/v1/groups",M=function(e){switch(e){case"love":return"https://images.rbxcdn.com/b5b844cb5da1c06f9bc8b5924541145a-reaction_love.png";case"angry":return"https://images.rbxcdn.com/d3ea2530d704f45b9b4cc0a29e1edad8-reaction_angry.png";case"sad":return"https://images.rbxcdn.com/6fcf6a5ee3c673afff3d70f17355ebae-reaction_sad.png";case"very-positive":return"https://images.rbxcdn.com/fa9a4e13420a7f9736d345f768011115-reaction_smile.png";case"thinking":return"https://images.rbxcdn.com/d819e14e2473d81bf572d5f42c50b919-reaction_thinking.png";case"thumbs-up":return"https://images.rbxcdn.com/5d13c332e971294e4fb47245e1dd2b3c-reaction_thumbs_up.png";default:return""}},D={getGroupEmoteSetsEndpoint:function(e){return A+"/"+e+"/emotes"}},U=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},O=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},G=function(n){return U(void 0,void 0,Promise,function(){var t;return O(this,function(e){switch(e.label){case 0:return t={url:D.getGroupEmoteSetsEndpoint(n),withCredentials:!0},[4,l.httpService.get(t)];case 1:return[2,e.sent().data]}})})},B=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},H=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},q=(0,oe.createContext)(void 0);function J(e){var t=this,n=e.children,r=e.groupId,o=(0,oe.useState)(!0),a=o[0],s=o[1],e=(0,oe.useState)(!1),o=e[0],i=e[1],e=(0,oe.useState)([]),c=e[0],u=e[1],l=(0,oe.useCallback)(function(){return B(t,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),s(!0),i(!1),[4,G(r)];case 1:return t=e.sent(),u(t.emoteSets.reduce(function(e,t){t=t.emotes.map(function(e){return{id:e.id,name:e.name,url:M(e.name)}});return e.concat(t)},[])),[3,4];case 2:return e.sent(),i(!0),[3,4];case 3:return s(!1),[7];case 4:return[2]}})})},[r]),e=(0,oe.useCallback)(function(t){return c.find(function(e){return e.id===t})},[c]);return(0,oe.useEffect)(function(){l()},[l]),ae().createElement(q.Provider,{value:{isLoading:a,errorLoading:o,emoteList:c,getEmoteById:e}},n)}function Q(e){var t=e.reactions,r=h().getEmoteById,n=(0,oe.useMemo)(function(){return t.reduce(function(e,t){return e+t.reactionCount},0)},[t]),e=(0,oe.useMemo)(function(){return t.sort(function(e,t){return t.reactionCount-e.reactionCount}).slice(0,3)},[t]);return 0===t.length?null:ae().createElement("div",{className:"group-forums-post-preview-reactions"},e.map(function(e,t){var n=null!==(n=null===(n=r(e.emoteId))||void 0===n?void 0:n.url)&&void 0!==n?n:"";return ae().createElement("div",{key:e.emoteId,className:j()("group-forums-post-preview-reactions-container","reaction-depth-"+(t+1))},ae().createElement(g,{emoteUrl:n,size:16}))}),ae().createElement("span",{className:"group-forums-post-preview-reaction-count text-default"},l.abbreviateNumber.getAbbreviatedValue(n)))}function X(){var e=(0,oe.useContext)(Y);if(!e)throw new Error("useForumPermissions must be used within a ForumPermissionsProvider");return e}var Y=(0,oe.createContext)(void 0);function Z(e){var t=e.children,n=e.permissions,r=e.userId,o=e.isGroupMember,e=!Number.isNaN(r)&&0!==r;return ae().createElement(Y.Provider,{value:{canCreatePost:n.groupForumsPermissions.createPosts,canCreateComment:n.groupForumsPermissions.createComments,canPinPost:n.groupForumsPermissions.pinPosts,canLockPost:n.groupForumsPermissions.lockPosts,canEditPost:function(e){return n.groupForumsPermissions.createPosts&&e===r},canEditComment:function(e){return n.groupForumsPermissions.createComments&&e===r},canDeletePost:function(e){return n.groupForumsPermissions.createPosts&&e===r||n.groupForumsPermissions.removePosts},canDeleteComment:function(e){return n.groupForumsPermissions.createComments&&e===r||n.groupForumsPermissions.removeComments},canReact:o,canSubscribe:e}},t)}var $,ee=(0,t.withTranslations)(function(e){var t=e.translateKey,n=e.action,e=e.translate;return ae().createElement("li",null,ae().createElement(z.Button,{variant:z.Button.variants.secondary,onClick:n},e(t)))},r),te=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},ne=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},re=(0,t.withTranslations)(function(e){var n=e.post,t=e.onRefetchPosts,r=e.onDelete,o=e.button,a=e.translate,s=(0,K.useHistory)(),i=X(),c=i.canEditPost,u=i.canDeletePost,l=i.canLockPost,m=i.canPinPost,f=i.canSubscribe,d=(0,z.useSystemFeedback)().systemFeedbackService,p=(0,oe.useMemo)(function(){return c(n.createdBy)},[c,n.createdBy]),g=(0,oe.useMemo)(function(){return u(n.createdBy)},[u,n.createdBy]),h=(0,oe.useCallback)(function(){return te(void 0,void 0,void 0,function(){return ne(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,I(n.groupId,n.categoryId,n.id,!n.isPinned)];case 1:return e.sent(),null!=t&&t(),[3,3];case 2:return e.sent(),d.warning(a("NetworkError")),[3,3];case 3:return[2]}})})},[n.groupId,n.categoryId,n.id,n.isPinned,t,d,a]),v=(0,oe.useCallback)(function(){return te(void 0,void 0,void 0,function(){return ne(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,S(n.groupId,n.categoryId,n.id,!n.isLocked)];case 1:return e.sent(),null!=t&&t(),[3,3];case 2:return e.sent(),d.warning(a("NetworkError")),[3,3];case 3:return[2]}})})},[n.groupId,n.categoryId,n.id,n.isLocked,t,d,a]),b=(0,oe.useCallback)(function(){return te(void 0,void 0,void 0,function(){return ne(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,T(n.groupId,n.categoryId,n.id)];case 1:return e.sent(),null!=r&&r(),[3,3];case 2:return e.sent(),d.warning(a("NetworkError")),[3,3];case 3:return[2]}})})},[n.groupId,n.categoryId,n.id,r,d,a]),y=(0,oe.useCallback)(function(){return te(void 0,void 0,void 0,function(){var t;return ne(this,function(e){switch(e.label){case 0:if(!navigator.clipboard)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),t=se.deepLinks.groupForumPostUrl(n.groupId,n.categoryId,n.id),[4,navigator.clipboard.writeText(t)];case 2:return e.sent(),d.success(a("Label.LinkCopied")),[3,4];case 3:return e.sent(),d.warning(a("Error.CopyLink")),[3,4];case 4:return[2]}})})},[n.categoryId,n.groupId,n.id,d,a]),e=(0,oe.useCallback)(function(){var e=se.urls.reportAbuse(n.groupId,n.id,n.id,n.firstComment.id,!0);window.location.href=e},[n.firstComment.id,n.groupId,n.id]),i=(0,oe.useCallback)(function(){},[]);return ae().createElement(z.Popover,{id:"group-forums-post-dropdown-menu",button:o,trigger:"click",placement:"bottom"},ae().createElement("ul",{className:"dropdown-menu",role:"menu"},p&&ae().createElement(ee,{translateKey:"Label.EditPost",action:function(){s.push(se.router.getPostEditRoute(n.categoryId,n.id))}}),m&&ae().createElement(ee,{translateKey:n.isPinned?"Label.UnpinPost":"Label.PinPost",action:h}),l&&ae().createElement(ee,{translateKey:n.isLocked?"Label.UnlockPost":"Label.LockPost",action:v}),g&&ae().createElement(ee,{translateKey:"Label.DeletePost",action:b}),navigator.clipboard&&ae().createElement(ee,{translateKey:"Label.CopyLink",action:y}),f&&ae().createElement(ee,{translateKey:"Label.SubscribeToPost",action:i}),ae().createElement(ee,{translateKey:"Label.ReportAbuse",action:e})))},r),de=CoreRobloxUtilities;(o=$=$||{}).GroupPageClickEvent="groupPageClickEvent",o.GroupPageExposureEvent="groupPageExposureEvent",(o={}).GroupHomepage="groupHomepage",o.ConfigureGroup="configureGroup";var pe,ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function he(e){var t=e.groupId,n=e.clickTargetType,r=e.clickTargetId;return e={groupId:t,clickTargetType:n,clickTargetId:r,context:pe.GroupForums},t=e.context,n=e.groupId,r=e.clickTargetType,e=e.clickTargetId,de.eventStreamService.sendEventWithTarget($.GroupPageClickEvent,t,ge({groupId:n,clickTargetType:r},e&&{clickTargetId:e})),0}function ve(){return ae().createElement("div",{className:"group-forums-user-display-skeleton"},ae().createElement("div",{className:"group-forums-user-display-avatar-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"user-display-with-time-skeleton group-forums-skeleton"}))}function be(){return ae().createElement("div",{className:"group-forums-post-preview-skeleton"},ae().createElement(ve,null),ae().createElement("div",{className:"group-forums-post-preview-title-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-preview-metadata-section-skeleton"},ae().createElement("div",{className:"groups-forums-post-preview-metadata-replies-section-skeleton"},ae().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-preview-replies-count-skeleton group-forums-skeleton"})),ae().createElement("div",{className:"groups-forums-post-preview-metadata-reaction-section-skeleton"},ae().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-preview-reaction-count-skeleton group-forums-skeleton"}))))}function ye(e){var n=e.onLoadMore,r=e.viewingThreshold,o=(0,oe.useRef)(null);return(0,oe.useEffect)(function(){var e=new IntersectionObserver(function(e){e[0].isIntersecting&&n()},{threshold:r}),t=o.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}},[n,r]),ae().createElement("div",{ref:o,style:{height:"1px"}})}function Ee(e,t){return e.id===t.id}function we(e,t){return e.id===t.id}(pe=pe||{}).GroupForums="groupForums";var ke=(0,t.withTranslations)(function(e){function t(){s.push(se.router.getPostRoute(n.categoryId,n.id)),he({groupId:n.groupId,clickTargetType:"openPost",clickTargetId:n.id})}var n=e.post,r=e.showPinned,o=e.refetchPosts,a=e.translate,s=(0,K.useHistory)(),i=(0,oe.useCallback)(function(){he({groupId:n.groupId,clickTargetType:"openPostMenu",clickTargetId:n.id})},[n.groupId,n.id]),e=(0,oe.useMemo)(function(){return n.commentCount<=0?0:n.commentCount-1},[n.commentCount]);return ae().createElement("div",{className:"group-forums-post-preview"},ae().createElement("div",{className:"group-forums-post-preview-header"},ae().createElement(W,{userId:n.createdBy,createdTime:n.createdAt,userDisplayName:n.firstComment.creatorDisplayName}),ae().createElement("div",{className:"group-forums-post-preview-menu"},ae().createElement(re,{post:n,onRefetchPosts:o,onDelete:o,button:ae().createElement("button",{type:"button",className:"group-forums-post-preview-dropdown-menu-button btn-generic-more-sm",title:"more",onClick:i},ae().createElement("span",{className:"group-forums-post-preview-overflow-icon"}))}))),ae().createElement("div",{role:"button",tabIndex:0,className:"group-forums-post-preview-content",onClick:t,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())}},ae().createElement("div",{className:"group-forums-post-preview-title-container"},n.isUnread&&ae().createElement("div",{className:"group-forums-post-preview-unread-status"}),r&&n.isPinned&&ae().createElement("span",{className:"group-forums-post-preview-pinned-status-icon"}),n.isLocked&&ae().createElement("span",{className:"group-forums-post-preview-locked-status-icon"}),ae().createElement("h2",{className:"group-forums-post-preview-title text-emphasis text-overflow"},n.name)),ae().createElement("div",{className:j()("group-forums-post-preview-content-comment",n.isUnread?"font-bold text-emphasis":"text-default")},n.firstComment.content.plainText),ae().createElement("div",{className:"group-forums-post-preview-meta-data"},ae().createElement("div",{className:"group-forums-post-preview-meta-data-replies text-default"},ae().createElement("span",{className:"group-forums-post-preview-replies-icon"}),l.abbreviateNumber.getAbbreviatedValue(e)," ",a(1===e?"Label.Reply":"Label.Replies")),ae().createElement("div",{className:"group-forums-post-preview-meta-data-reactions text-default"},ae().createElement(Q,{reactions:n.firstComment.reactions})))))},r),Ce=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Ne=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},xe=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Pe=function(e){var n=e.fetchItems,r=e.initialCursor,o=e.compareFn,a=e.onAddItems,t=(0,oe.useState)([]),s=t[0],i=t[1],c=(0,oe.useState)(!0),u=c[0],l=c[1],m=(0,oe.useState)(!1),f=m[0],d=m[1],p=(0,oe.useState)(!1),g=p[0],h=p[1],v=(0,oe.useState)(!1),e=v[0],b=v[1],t=(0,oe.useState)(null),y=t[0],E=t[1],c=(0,oe.useState)(null),w=c[0],k=c[1],C=(0,oe.useCallback)(function(e){var n=e.newItems,r=e.addToFront;i(function(e){var t=n.filter(function(t){return!e.some(function(e){return o(e,t)})});return 0===t.length?e:(null!=a&&a(t),r?xe(xe([],t),e):xe(xe([],e),t))})},[o,a]),N=(0,oe.useCallback)(function(){return Ce(void 0,void 0,void 0,function(){var t;return Ne(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),l(!0),b(!1),[4,n(r)];case 1:return t=e.sent(),C({newItems:t.data,addToFront:!1}),E(t.nextPageCursor),k(t.previousPageCursor),[3,4];case 2:return e.sent(),b(!0),[3,4];case 3:return l(!1),[7];case 4:return[2]}})})},[C,n,r]),m=(0,oe.useCallback)(function(){return Ce(void 0,void 0,void 0,function(){var t;return Ne(this,function(e){switch(e.label){case 0:if(f)return[2];if(!y)return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),d(!0),b(!1),[4,n(y)];case 2:return t=e.sent(),C({newItems:t.data,addToFront:!1}),E(t.nextPageCursor),[3,5];case 3:return e.sent(),b(!0),[3,5];case 4:return d(!1),[7];case 5:return[2]}})})},[C,n,f,y]),p=(0,oe.useCallback)(function(){return Ce(void 0,void 0,void 0,function(){var t;return Ne(this,function(e){switch(e.label){case 0:if(g)return[2];if(!w)return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),h(!0),b(!1),[4,n(w)];case 2:return t=e.sent(),C({newItems:t.data,addToFront:!0}),k(t.previousPageCursor),[3,5];case 3:return e.sent(),b(!0),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})},[C,n,g,w]),v=(0,oe.useCallback)(function(){i([]),N()},[N]),t=(0,oe.useMemo)(function(){return null!==y&&""!==y.trim()},[y]),c=(0,oe.useMemo)(function(){return null!==w&&""!==w.trim()},[w]);return{items:s,isLoadingInitialItems:u,isFetchingNextPage:f,isFetchingPreviousPage:g,error:e,fetchMore:m,fetchPrevious:p,refetch:v,addItems:C,updateItem:function(n){i(function(e){var t=e.findIndex(function(e){return o(e,n)});if(-1===t)return e;e=xe([],e);return e[t]=n,e})},hasMore:t,hasPrevious:c,setItems:i}},Ie=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Se=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Te=(0,t.withTranslations)(function(e){var r=e.groupId,o=e.categoryId,n=e.translate,a=(0,z.useSystemFeedback)().systemFeedbackService,t=X().canCreatePost,s=(0,oe.useState)([]),i=s[0],c=s[1],u=(0,oe.useState)(!0),l=u[0],m=u[1],f=(0,oe.useCallback)(function(){return Ie(void 0,void 0,void 0,function(){var t;return Se(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),m(!0),[4,x(r,o)];case 1:return t=e.sent(),c(t.data),[3,4];case 2:return e.sent(),a.warning(n("NetworkError")),[3,4];case 3:return m(!1),[7];case 4:return[2]}})})},[r,o,a,n]),d=(0,oe.useCallback)(function(n){return Ie(void 0,void 0,void 0,function(){var t;return Se(this,function(e){switch(e.label){case 0:return[4,y(r,o,se.pageCounts.postsPerPage,n)];case 1:return(t=e.sent()).data=t.data.filter(function(e){return!e.isPinned}),[2,t]}})})},[o,r]),e=Pe({fetchItems:d,initialCursor:null,compareFn:Ee}),s=e.items,u=e.isLoadingInitialItems,d=e.isFetchingNextPage,p=e.error,g=e.refetch,e=e.fetchMore,h=(0,oe.useCallback)(function(){g(),f()},[f,g]);return(0,oe.useEffect)(function(){p&&a.warning(n("NetworkError"))},[p,a,n]),(0,oe.useEffect)(function(){o&&h()},[o,h]),p?ae().createElement("div",{className:"group-forums-posts-list-error section-content-off"},ae().createElement("span",{className:"icon-status-alert"}),ae().createElement("h2",null,n("Error.LoadCategoryTitle")),ae().createElement("span",{className:"group-forums-posts-list-error-subtitle"},n("Error.ReloadingSubtitle")),ae().createElement("button",{type:"button",className:"btn-primary-md",onClick:h},n("Action.RetryLoadingPosts"))):u||l?ae().createElement("div",{className:"group-forums-posts-list"},ae().createElement(be,null),ae().createElement(be,null),ae().createElement(be,null),ae().createElement(be,null)):s.length||i.length?ae().createElement("div",{className:j()("group-forums-posts-list",{"group-forums-posts-list-with-footer":t})},ae().createElement("div",{className:"group-forums-post-list-content"},i.map(function(e){return ae().createElement(ke,{showPinned:!0,key:e.id+"_pinned",post:e,refetchPosts:h})}),s.map(function(e){return ae().createElement(ke,{showPinned:!1,key:e.id,post:e,refetchPosts:h})}),ae().createElement(ye,{onLoadMore:e,viewingThreshold:1}),d&&ae().createElement("div",{className:"spinner spinner-default spinner-infinite-scroll"}))):ae().createElement("div",{className:"group-forums-posts-list section-content-off group-forums-posts-list-no-post"},ae().createElement("span",{className:"chat-side-icon"}),ae().createElement("h2",null,n("Label.NoPostsFoundHeader")),ae().createElement("span",null,n("Label.NoPostsFoundText")))},r);function Fe(e){var t=e.fixed,e=e.children;return ae().createElement("div",{className:j()("group-forums-native-footer",t&&"group-forums-native-footer-fixed")},e)}(o=function(e){var t=e.label,n=e.disabled,e=e.onClick;return ae().createElement("button",{type:"button",className:"group-forums-create-post-btn btn-growth-md",onClick:e,disabled:n},ae().createElement("span",{className:"icon-plus"}),t)}).displayName="CreatePostButton";var Re=o,Le=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Ae=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(o=(0,oe.memo)(function(e){var n=e.groupId,r=e.paramCategoryId,o=e.translate,t=(0,K.useHistory)(),a=X().canCreatePost,s=(0,oe.useState)(!0),i=s[0],c=s[1],u=(0,oe.useState)(!1),l=u[0],m=u[1],e=(0,oe.useState)([]),f=e[0],d=e[1],s=(0,oe.useState)(""),p=s[0],g=s[1],u=(0,z.useSystemFeedback)(),e=u.SystemFeedbackComponent,h=u.systemFeedbackService,v=(0,oe.useCallback)(function(e){g(e),t.push(se.router.getCategoryRoute(e)),he({groupId:n,clickTargetType:"changeCategory",clickTargetId:e})},[n,g,t]),b=(0,oe.useCallback)(function(){return Le(void 0,void 0,void 0,function(){var t;return Ae(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),c(!0),m(!1),[4,k(n,!1)];case 1:return t=e.sent(),d(t.data),[3,4];case 2:return e.sent(),h.warning(o("NetworkError")),m(!0),[3,4];case 3:return c(!1),[7];case 4:return[2]}})})},[n,h,o]),s=(0,oe.useCallback)(function(){t.push(se.router.getPostCreateRoute(p)),he({groupId:n,clickTargetType:"goToPostComposerCreate",clickTargetId:p})},[n,p,t]),u=(0,oe.useMemo)(function(){var e=f.find(function(e){return e.id===p});return(null==e?void 0:e.name)||""},[p,f]);return(0,oe.useEffect)(function(){b()},[b]),(0,oe.useEffect)(function(){var t;f.length&&(t=r||f[0].id,f.find(function(e){return e.id===t})?t!==p&&g(t):v(f[0].id))},[p,r,f,v]),l?ae().createElement("div",{className:"group-forums-categories-error section-content-off"},ae().createElement("span",{className:"icon-status-alert"}),ae().createElement("h2",null,o("Error.LoadCategoryTitle")),ae().createElement("span",{className:"group-forums-categories-error-subtitle"},o("Error.ReloadingSubtitle")),ae().createElement("button",{type:"button",className:"btn-primary-md",onClick:b},o("Action.RetryLoadingForums"))):ae().createElement("div",{className:"group-forums-categories"},ae().createElement("div",{className:"group-forums-categories-list-container"},ae().createElement(C,{categories:f,activeCategoryId:p,onSetActiveCategory:v,isLoading:i})),ae().createElement("div",{className:"group-forums-categories-header"},ae().createElement("h2",{className:"group-forums-categories-header-category-name"},u),a&&ae().createElement(Re,{label:o("Action.CreatePost"),onClick:s})),ae().createElement(Te,{groupId:n,categoryId:p}),a&&ae().createElement(Fe,{fixed:!0},ae().createElement(Re,{label:o("Action.CreatePost"),onClick:s})),ae().createElement(e,null))})).displayName="Categories";var Me=(0,t.withTranslations)(o,r);(o=(0,oe.forwardRef)(function(e,t){var n=e.className,r=e.textAreaClassName,o=e.defaultValue,a=e.placeholder,s=e.maxLength,i=void 0===s?1e3:s,c=e.fieldName,u=e.showCharacterCount,l=void 0===u||u,s=e.autoResize,m=void 0!==s&&s,u=e.locked,s=void 0!==u&&u,u=e.maxTextFieldHeight,f=void 0===u?-1:u,d=e.onChange,e=(0,oe.useState)(""),p=e[0],g=e[1],e=(0,oe.useState)(!1),h=e[0],v=e[1],b=(0,oe.useRef)(null),y=(0,oe.useCallback)(function(e){v(!0),g(e),null!=d&&d(e)},[d]);(0,oe.useImperativeHandle)(t,function(){return{clearText:function(){g(""),v(!1),b.current&&(b.current.value="")},setText:function(e){b.current&&(b.current.value=e),y(e)},focus:function(){var e;null!==(e=b.current)&&void 0!==e&&e.focus()}}});t=(0,oe.useMemo)(function(){return i?p.length+"/"+i:null},[p,i]);return(0,oe.useEffect)(function(){!h&&o&&y(o)},[o,h,y]),(0,oe.useEffect)(function(){var e;m&&b.current&&(b.current.style.height="",e=b.current.scrollHeight+3,0<f&&f<e&&(e=f),b.current.style.height=e+"px")},[p,m,f]),ae().createElement("div",{className:j()("editable-content-field-input",n)},ae().createElement("textarea",{className:j()("input-field",r),name:c,placeholder:a,maxLength:i,onChange:function(e){return y(e.target.value)},disabled:s,ref:b},o),l&&t&&ae().createElement("p",{className:"form-control-label small text"},t))})).displayName="EditableContentFieldInput";var De=o,Ue=(0,t.withTranslations)(function(e){var t=e.headerText,n=e.containerClassName,r=e.onBack,e=e.translate;return ae().createElement("div",{className:j()("group-forums-section-header",n)},ae().createElement("button",{className:"group-forums-section-header-back icon-left",type:"button","aria-label":e("Action.Back"),onClick:r}),ae().createElement("h2",{className:"group-forums-section-header-text"},t),ae().createElement("div",{className:"group-forums-section-header-spacer"}))},r);(o=function(e){e=e.message;return ae().createElement("div",{className:"text-content-editor-error"},ae().createElement("span",{className:"icon-warning"}),ae().createElement("p",{className:"text-content-editor-error-message"},e))}).displayName="TextContentEditorError";var Oe=o,Ge=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Be=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(o=function(e){var t=e.hasTitle,n=e.headerText,r=e.contentPlaceholder,o=e.submitText,a=e.customControls,s=e.titleMaxLength,i=e.contentMaxLength,c=e.defaultTitle,u=e.defaultContent,l=e.titleLocked,m=e.errorKey,f=e.onSubmit,d=e.onBack,p=e.onChange,g=e.isLoading,h=e.translate,v=(0,oe.useState)(null!=c?c:""),b=v[0],y=v[1],E=(0,oe.useState)(null!=u?u:""),w=E[0],k=E[1],C=(0,oe.useState)(!1),N=C[0],x=C[1],e=(0,oe.useCallback)(function(){return Ge(void 0,void 0,void 0,function(){return Be(this,function(e){switch(e.label){case 0:return x(!0),[4,f({title:b,content:w})];case 1:return e.sent(),x(!1),[2]}})})},[b,w,f]),v=(0,oe.useCallback)(function(e){y(e),null!=p&&p({title:e,content:w})},[p,w]),E=(0,oe.useCallback)(function(e){k(e),null!=p&&p({title:b,content:e})},[p,b]),C=(0,oe.useMemo)(function(){return N||g||!!m||!w||t&&!b},[N,g,m,b,w,t]);return ae().createElement("div",{className:"text-content-editor"},ae().createElement(Ue,{headerText:n,onBack:d}),!!a&&ae().createElement("div",{className:"text-content-editor-controls"},a,ae().createElement("hr",{className:"text-content-editor-divider"})),ae().createElement("div",{className:"text-content-editor-body"},g?ae().createElement(z.Loading,null):ae().createElement(ae().Fragment,null,t&&ae().createElement(ae().Fragment,null,ae().createElement("h5",{className:"text-content-editor-label"},h("Label.PostTitle")),ae().createElement(De,{textAreaClassName:j()("text-content-editor-title",l&&"text-content-editor-title-locked"),fieldName:"title",defaultValue:c,placeholder:h("Label.Title"),maxLength:s,onChange:v,locked:l,autoResize:!0})),ae().createElement("h5",{className:"text-content-editor-label"},h("Label.PostContent")),ae().createElement(De,{className:"text-content-editor-content-container",textAreaClassName:"text-content-editor-content",fieldName:"content",defaultValue:u,placeholder:null!=r?r:h("Label.WriteSomething"),maxLength:i,onChange:E,autoResize:!0}))),ae().createElement(Fe,null,ae().createElement("div",{className:"text-content-editor-footer-mobile"},m?ae().createElement(Oe,{message:h(m)}):null,ae().createElement(Re,{label:o,onClick:e,disabled:C}))),ae().createElement("div",{className:"text-content-editor-footer-desktop"},ae().createElement("div",{className:"text-content-editor-buttons-desktop"},ae().createElement("button",{className:"text-content-editor-cancel btn-control-md",type:"button",onClick:d},h("Action.Cancel")),ae().createElement(Re,{label:o,onClick:e,disabled:C})),m?ae().createElement(Oe,{message:h(m)}):null))}).displayName="TextContentEditor";var He=(0,t.withTranslations)(o,r),ze=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Ke=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},je=function(n){var e=(0,oe.useState)(!0),t=e[0],r=e[1],o=(0,oe.useState)(null),a=o[0],s=o[1],e=(0,oe.useState)([]),o=e[0],i=e[1],c=(0,oe.useCallback)(function(){return ze(void 0,void 0,void 0,function(){var t;return Ke(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),r(!0),s(null),[4,k(n,!1)];case 1:return t=e.sent(),i(t.data),[3,4];case 2:return e.sent(),s("REPLACEME"),[3,4];case 3:return r(!1),[7];case 4:return[2]}})})},[n]);return(0,oe.useEffect)(function(){c()},[c]),{isLoading:t,errorKey:a,forumCategories:o}},Ve=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},We=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},_e=function(n,r,o){var e=(0,oe.useState)(!1),t=e[0],a=e[1],s=(0,oe.useState)(null),i=s[0],c=s[1],e=(0,oe.useState)(),s=e[0],u=e[1],l=(0,oe.useCallback)(function(){return Ve(void 0,void 0,void 0,function(){var t;return We(this,function(e){switch(e.label){case 0:if(!n||!r||!o)return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),a(!0),c(null),[4,ie(n,r,[o])];case 2:return t=e.sent(),u(t.data[0]),[3,5];case 3:return e.sent(),c("REPLACEME"),[3,5];case 4:return a(!1),[7];case 5:return[2]}})})},[n,r,o]);return(0,oe.useEffect)(function(){l()},[l]),{isLoading:t,errorKey:i,forumPost:s}},qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Je=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Qe=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Xe(){return ae().createElement("div",{className:"group-forums-post-skeleton"},ae().createElement(ve,null),ae().createElement("div",{className:"group-forums-post-title-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-metadata-section-skeleton"},ae().createElement("div",{className:"groups-forums-post-metadata-reaction-section-skeleton"},ae().createElement("div",{className:"group-forums-post-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-post-icon-skeleton group-forums-skeleton"})),ae().createElement("div",{className:"groups-forums-post-metadata-reply-section-skeleton"},ae().createElement("div",{className:"groups-forums-post-reply-skeleton group-forums-skeleton"}))))}function Ye(){return ae().createElement("div",{className:"group-forums-comment-skeleton"},ae().createElement(ve,null),ae().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-comment-metadata-section-skeleton"},ae().createElement("div",{className:"groups-forums-comment-metadata-reaction-section-skeleton"},ae().createElement("div",{className:"group-forums-comment-icon-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-comment-icon-skeleton group-forums-skeleton"})),ae().createElement("div",{className:"groups-forums-comment-metadata-reply-section-skeleton"},ae().createElement("div",{className:"groups-forums-comment-reply-skeleton group-forums-skeleton"}))))}(o=function(e){var a=e.groupId,t=e.defaultCategoryId,s=e.editingPostId,n=e.translate,i=(0,K.useHistory)(),r=(0,oe.useState)(t),c=r[0],o=r[1],u=(0,oe.useState)(null),l=u[0],m=u[1],f=X(),d=f.canCreatePost,p=f.canEditPost,g=je(a),h=g.isLoading,v=g.errorKey,b=g.forumCategories,e=_e(a,t,s),r=e.isLoading,y=e.errorKey,E=e.forumPost,w=(0,z.useSystemFeedback)().systemFeedbackService,u=(0,oe.useCallback)(function(e){var r=e.title,o=e.content;return Je(void 0,void 0,void 0,function(){var t,n;return Qe(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),s?E?[4,ue(a,c,s,E.firstComment.id,o)]:[2]:[3,2];case 1:return e.sent(),i.push(se.router.getPostRoute(c,s)),[3,4];case 2:return[4,P(a,c,r,o)];case 3:n=e.sent(),t=n.categoryId,n=n.id,i.push(se.router.getPostRoute(t,n)),e.label=4;case 4:return he(qe({groupId:a},s?{clickTargetType:"editPost",clickTargetId:s}:{clickTargetType:"createPost",clickTargetId:c})),[3,6];case 5:return 400===e.sent().status?m("Error.ForumPostModerated"):m("NetworkError"),[3,6];case 6:return[2]}})})},[a,c,s,E,i]),k=(0,oe.useCallback)(function(){s?i.push(se.router.getPostRoute(t,s)):i.push(se.router.getCategoryRoute(t))},[i,s,t]),f=(0,oe.useCallback)(function(){l&&m(null)},[l]);(0,oe.useEffect)(function(){v&&w.warning(n(v))},[v,w,n]),(0,oe.useEffect)(function(){y&&w.warning(n(y))},[y,w,n]),(0,oe.useEffect)(function(){(!d||s&&E&&!p(E.createdBy))&&k()},[d,p,s,E,k]);g=null==E?void 0:E.name,e=null===(e=null==E?void 0:E.firstComment)||void 0===e?void 0:e.content.plainText;return ae().createElement("div",{className:"post-composer"},ae().createElement(He,{hasTitle:!0,headerText:n(s?"Action.EditPost":"Action.CreatePost"),contentPlaceholder:n("Label.WriteSomething"),submitText:n("Action.Post"),customControls:ae().createElement("div",{className:"post-composer-categories-control"},ae().createElement("h5",{className:"post-composer-categories-label"},n("Heading.Categories")),ae().createElement("div",{className:"post-composer-categories-list"},ae().createElement(C,{categories:b,activeCategoryId:c,onSetActiveCategory:o,isLoading:h,locked:!!s}))),titleMaxLength:se.limits.postTitleMaxLength,contentMaxLength:se.limits.postContentMaxLength,defaultTitle:g,defaultContent:e,titleLocked:!!s,errorKey:l,onSubmit:u,onBack:k,onChange:f,isLoading:r}))}).displayName="PostComposer";var Ze,$e=(0,t.withTranslations)(o,r);function et(e){var t=e.onSelect,e=e.emotes;return ae().createElement("div",{className:"reaction-picker"},e.map(function(e){return ae().createElement("div",{key:e.id,className:"reaction-picker-item"},ae().createElement(g,{className:"reaction-picker-emote",emoteUrl:e.url,onClick:function(){return t(e.id)}}))}))}function tt(){var e=(0,oe.useContext)(dt);if(!e)throw new Error("usePost must be used within a PostProvider");return e}(o=Ze=Ze||{}).withPlus="withPlus",o.withoutPlus="withoutPlus";var nt=Ze,rt={withPlus:["","K+","M+","B+","T+"],withoutPlus:["","K","M","B","T"]},ot=function(e,t,n){return void 0===t&&(t=3),void 0===n&&(n=nt.withoutPlus),function(t,e,n){void 0===e&&(e=3),void 0===n&&(n=nt.withoutPlus);var r=n?rt[n]:rt[nt.withPlus],o="",n=t,r=r.find(function(e){return e&&""!==e&&t.endsWith(e)});return r&&(o=r,n=t.slice(0,-r.length)),n.length>e&&(n=n.slice(0,e)),n.endsWith(".")&&(n=n.slice(0,-1)),n+o}(l.abbreviateNumber.getAbbreviatedValue(e,n),t,n)},at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},st=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},it=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ct=(0,t.withTranslations)(function(e){var t=e.initialReactions,a=e.onToggleReaction,n=e.maxReactionPerLine,s=e.viewOnly,r=ae().useState(t),i=r[0],c=r[1],o=ae().useState(!1),u=o[0],l=o[1],e=h(),m=e.getEmoteById,r=e.emoteList;(0,oe.useEffect)(function(){c(t)},[t]);function f(o){return st(void 0,void 0,void 0,function(){var n,r,t;return it(this,function(e){switch(e.label){case 0:return s?[2]:(r=n=!1,t=i.map(function(e){if(e.emoteId!==o)return e;n=!0,r=!e.hasUserAppliedReaction;var t=e.hasUserAppliedReaction?e.reactionCount-1:e.reactionCount+1;return 0===t?null:at(at({},e),{hasUserAppliedReaction:!e.hasUserAppliedReaction,reactionCount:t})}).filter(function(e){return null!==e}),n||(r=!0,t.push({emoteId:o,reactionCount:1,hasUserAppliedReaction:!0})),c(t),[4,a(o,r)]);case 1:return e.sent()||c(i),[2]}})})}function d(){l(function(e){return!e})}function p(n,e){var t=(t=m(n.emoteId))?t.url:"";return ae().createElement("div",{key:n.emoteId,className:j()("group-forums-comment-reactions-reaction",e,{"group-forums-comment-reactions-reaction-active":n.hasUserAppliedReaction}),role:"button",tabIndex:0,onClick:function(){return f(n.emoteId)},onKeyDown:function(e){return t=e,e=n.emoteId,void("Enter"!==t.key&&" "!==t.key||(t.preventDefault(),f(e)));var t}},ae().createElement(g,{emoteUrl:t,size:12}),ae().createElement("span",{className:j()("group-forums-comment-reactions-count",{"font-bold":n.hasUserAppliedReaction})},ot(n.reactionCount)))}o=(0,oe.useMemo)(function(){return u?i.length:i.length<=n?n:n-1},[u,n,i.length]),e=ae().createElement("div",{role:"button",tabIndex:0,className:"group-forums-comment-reactions-add-new"},ae().createElement("span",{className:"group-forums-comment-reactions-add-new-icon"}));return ae().createElement("div",{className:"group-forums-comment-reactions"},!s&&ae().createElement(z.Popover,{id:"group-forums-reaction-picker-container",button:e,trigger:"click",placement:"bottom"},ae().createElement(et,{emotes:r,onSelect:f})),ae().createElement("div",{className:"group-forums-comment-reactions-container"},i.slice(0,o).map(function(e){return p(e,"show-on-native")}),i.map(function(e){return p(e,"hide-on-native")}),i.length>n&&ae().createElement("div",{role:"button",tabIndex:0,onClick:d,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d())},className:"group-forums-comment-reactions-overflow show-on-native"},ae().createElement("span",{className:j()(u?"group-forums-comment-reactions-hide-icon":"group-forums-comment-reactions-overflow-icon")}))))},r),ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},lt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},mt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ft=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},dt=(0,oe.createContext)(void 0);function pt(e){function a(e){400===e.status&&y(!0)}var s=this,t=e.children,i=e.groupId,c=e.categoryId,n=e.initialCommentId,u=e.postId,r=(0,oe.useState)(!0),o=r[0],l=r[1],m=(0,oe.useState)(!1),f=m[0],d=m[1],p=(0,oe.useState)(!1),g=p[0],h=p[1],v=(0,oe.useState)(!1),b=v[0],y=v[1],E=(0,oe.useState)(null),w=E[0],k=E[1],C=(0,oe.useState)(""),N=C[0],x=C[1],P=(0,oe.useState)(""),I=P[0],S=P[1],T=(0,oe.useState)(0),F=T[0],R=T[1],L=(0,oe.useState)(null),A=L[0],M=L[1],D=(0,oe.useState)(null),U=D[0],O=D[1],G=je(i).forumCategories,B=(0,oe.useMemo)(function(){var e=G.find(function(e){return e.id===c});return(null==e?void 0:e.name)||""},[c,G]),H=(0,oe.useCallback)(function(){null===A&&null===U||(M(null),O(null),S(""))},[A,U]),z=(0,oe.useRef)(null),K=(0,oe.useRef)(null),j=(0,oe.useRef)(null),V=(0,oe.useCallback)(function(){var e;null!==(e=z.current)&&void 0!==e&&e.focus()},[z]),W=(0,oe.useCallback)(function(e,t){N===e&&I===e&&F===t||(H(),x(e),S(e),R(t),V())},[H,I,N,F,V]),e=(0,oe.useCallback)(function(e,t,n){N===e&&I===t&&F===n||(H(),x(e),S(t),R(n),V())},[H,I,N,F,V]),_=(0,oe.useCallback)(function(){""===N&&""===I&&0===F||(x(""),S(""),R(0))},[I,N,F]),q=(0,oe.useCallback)(function(){return lt(s,void 0,void 0,function(){var t;return mt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),l(!0),d(!1),[4,ie(i,c,[u])];case 1:return t=e.sent(),k(t.data[0]),[3,4];case 2:return e.sent(),d(!0),[3,4];case 3:return l(!1),[7];case 4:return[2]}})})},[c,i,u]),r=(0,oe.useCallback)(function(t){return lt(s,void 0,void 0,function(){return mt(this,function(e){switch(e.label){case 0:return[4,ce(i,c,u,se.pageCounts.commentsPerPage,t,n)];case 1:return[2,e.sent()]}})})},[c,i,n,u]),m=(0,oe.useCallback)(function(a){return lt(s,void 0,void 0,function(){return mt(this,function(e){switch(e.label){case 0:return[4,(t=i,n=c,r=u,o=a[a.length-1].id,lt(s,void 0,void 0,function(){return mt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fe(t,n,r,o)];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})}))];case 1:return e.sent(),[2]}var t,n,r,o})})},[c,i,u]),p=Pe({fetchItems:r,initialCursor:null,compareFn:we,onAddItems:m}),J=p.items,v=p.isLoadingInitialItems,E=p.isFetchingNextPage,C=p.isFetchingPreviousPage,P=p.error,Q=p.refetch,T=p.fetchMore,L=p.fetchPrevious,X=p.addItems,Y=p.updateItem,Z=p.setItems,$=(0,oe.useCallback)(function(t,e,n){var r=J.find(function(e){return e.id===t});r&&((r=ut({},r)).replies||(r.replies=[]),r.threadId||(r.threadId=e[0].parentId),r.replies=n?ft(ft([],e),r.replies):ft(ft([],r.replies),e),r.replies=r.replies.filter(function(t,e,n){return n.findIndex(function(e){return e.id===t.id})===e}),Y(r))},[J,Y]),ee=(0,oe.useCallback)(function(t){var e;J.find(function(e){return e.id===t})&&(e=J.filter(function(e){return e.id!==t}),Z(e))},[J,Z]),te=(0,oe.useCallback)(function(t,n){var e,r=J.find(function(e){return e.id===t});r&&r.replies.find(function(e){return e.id===n})&&(e=r.replies.filter(function(e){return e.id!==n}),e=ut(ut({},r),{replies:e}),Y(e))},[J,Y]),ne=(0,oe.useCallback)(function(e){Y(e)},[Y]),re=(0,oe.useCallback)(function(t,n){var e,r=J.find(function(e){return e.id===n});r&&(e=r.replies.map(function(e){return e.id===t.id?t:e}),e=ut(ut({},r),{replies:e}),Y(e))},[J,Y]),D=(0,oe.useCallback)(function(e){var r=e.content;return lt(s,void 0,Promise,function(){var t,n;return mt(this,function(e){switch(e.label){case 0:h(!1),N&&w&&N!==w.firstComment.id&&(t=N),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,le(i,c,u,r,t)];case 2:return n=e.sent(),t?$(t,[n],!1):X({newItems:[n],addToFront:!1}),[2,!0];case 3:return n=e.sent(),h(!0),a(n),[3,4];case 4:return[2,!1]}})})},[N,w,i,c,u,$,X]),r=(0,oe.useCallback)(function(e){var o=e.content;return lt(s,void 0,Promise,function(){var t,n,r;return mt(this,function(e){switch(e.label){case 0:if(h(!1),null===A)return[2,!1];t=A.id,n=null!=U&&U.threadId?U.threadId:u,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ue(i,c,n,t,o)];case 2:return r=e.sent(),null!=U&&U.threadId?re(r,U.id):ne(r),[2,!0];case 3:return r=e.sent(),h(!0),a(r),[3,4];case 4:return[2,!1]}})})},[c,ne,re,A,U,i,u]),m=(0,oe.useCallback)(function(r,o){return lt(s,void 0,Promise,function(){var t,n;return mt(this,function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),t=u,o){if(!(n=J.find(function(e){return e.id===o})))return[2,!1];if(!n.threadId)return[2,!1];t=n.threadId}return[4,me(i,c,t,r)];case 1:return e.sent(),o?te(o,r):ee(r),[3,3];case 2:return e.sent(),[2,!1];case 3:return[2,!0]}})})},[u,i,c,J,te,ee]),p=(0,oe.useCallback)(function(t,n){var e=null,r=null;if(n){var o,a=J.find(function(e){return e.id===n});if(!a)return;if(!(o=a.replies.find(function(e){return e.id===t})))return;e=o,r=a}else{if(!(o=J.find(function(e){return e.id===t})))return;e=o}_(),S(e.id),M(e),O(r),V()},[_,J,V]);return(0,oe.useEffect)(function(){q()},[q]),(0,oe.useEffect)(function(){Q()},[Q]),ae().createElement(dt.Provider,{value:{groupId:i,categoryId:c,categoryName:B,postId:u,initialCommentId:n,isLoadingPost:o,loadingPostError:f,fetchPost:q,post:w,createCommentError:g,commentModeratedError:b,handleCreateComment:D,handleEditComment:r,replyToComment:N,replyCommentHighlight:I,replyingToAuthor:F,setReplyToCommentOrPost:W,setReplyToCommentReply:e,clearReplyToComment:_,isLoadingComments:v,refetchComments:Q,isFetchingNextCommentsPage:E,isFetchingPreviousCommentsPage:C,fetchNextCommentsPage:T,fetchPreviousCommentsPage:L,errorLoadingComments:P,comments:J,addReplies:$,clearCommentErrors:function(){y(!1),h(!1)},handleDeleteComment:m,editingComment:A,editingCommentParent:U,setEditComment:p,clearEditingComment:H,commentComposerRef:z,commentScrollContainerRef:K,mobileCommentScrollContainerRef:j}},t)}function gt(){return ae().createElement("div",{className:"group-forums-replying-to-skeleton"},ae().createElement("div",{className:"group-forums-replying-to-avatar-skeleton group-forums-skeleton"}),ae().createElement("div",{className:"group-forums-replying-to-name-skeleton group-forums-skeleton"}))}function ht(e){var t=e.categoryName,n=e.backRoute,r=e.postTitle,e=e.containerClassName;return ae().createElement("div",{className:j()("group-forums-post-navigation",e)},ae().createElement(K.Link,{to:n,className:"group-forums-post-navigation-category text-link"},t),r&&ae().createElement("div",{className:"group-forums-post-navigation-post-title text-default"}," > ",r))}function vt(e){var t=e.translate,n=(0,K.useHistory)(),r=(g=tt()).categoryId,o=g.categoryName,a=g.isLoadingPost,s=g.post,i=g.loadingPostError,c=g.createCommentError,u=g.replyCommentHighlight,l=g.fetchPost,m=g.commentModeratedError,f=g.commentScrollContainerRef,d=g.mobileCommentScrollContainerRef,p=X().canCreateComment,g=(e=(0,z.useSystemFeedback)()).SystemFeedbackComponent,h=e.systemFeedbackService;(0,oe.useEffect)(function(){c&&h.warning(t("NetworkError"))},[h,t,c]);var e=p&&s&&!s.isLocked,v=(0,oe.useCallback)(function(){n.push(se.router.getCategoryRoute(r))},[r,n]);return(0,oe.useEffect)(function(){a||s||i||v()},[a,i,v,s]),ae().createElement("div",{className:"group-forums-post"},ae().createElement(ht,{categoryName:o,backRoute:se.router.getCategoryRoute(r),postTitle:null==s?void 0:s.name,containerClassName:"hide-on-native"}),ae().createElement(Ue,{headerText:o,onBack:v,containerClassName:"show-on-native"}),ae().createElement("div",{className:"group-forums-post-content"},i?ae().createElement("div",{className:"group-forums-categories-error section-content-off"},ae().createElement("span",{className:"icon-status-alert"}),ae().createElement("h2",null,t("Error.LoadPostTitle")),ae().createElement("span",{className:"group-forums-categories-error-subtitle"},t("Error.ReloadingSubtitle")),ae().createElement("button",{type:"button",className:"btn-primary-md",onClick:l},t("Action.RetryLoadingPost"))):a||!s?ae().createElement(Xe,null):ae().createElement(xt,{title:s.name,variant:V.Post,isActive:u===s.firstComment.id,id:s.firstComment.id,createdBy:s.firstComment.createdBy,createdAt:s.firstComment.createdAt,creatorDisplayName:s.firstComment.creatorDisplayName,content:s.firstComment.content.plainText,threadId:null,channelId:s.firstComment.parentId,reactions:s.firstComment.reactions,replies:[]})),ae().createElement("div",{className:"group-forums-post-divider"}),ae().createElement("div",{onScroll:function(e){(0,b.DeviceMeta)().isPhone&&(0<(null==e?void 0:e.target).scrollTop?document.documentElement.scrollTop=10:document.documentElement.scrollTop=0)},className:"group-forums-post-comments-container",ref:d},ae().createElement("div",{ref:f,className:j()("group-forums-post-comments-section",{"group-forums-post-comments-section-reply-to-comment":!!u&&p,"group-forums-post-comments-section-comment-moderated":m&&p,"group-forums-post-comments-section-no-composer":!p})},ae().createElement(It,null)),e&&ae().createElement("div",{className:"group-forums-post-comment-composer"},ae().createElement(Ot,null))),ae().createElement(g,null))}function bt(e){var t=e.group,n=e.permissions,r=e.userId,o=e.isGroupMember;return e.isEnabled&&null!=t&&t.id?ae().createElement(z.SystemFeedbackProvider,null,ae().createElement(J,{groupId:t.id},ae().createElement(Z,{permissions:n,userId:r,isGroupMember:o},ae().createElement(K.HashRouter,{hashType:"hashbang"},ae().createElement("div",{className:"section group-forums"},ae().createElement(Ht,null),ae().createElement(K.Switch,null,ae().createElement(K.Route,{path:se.router.postEditRoute,render:function(e){return ae().createElement($e,{groupId:t.id,defaultCategoryId:e.match.params.categoryId,editingPostId:e.match.params.postId})}}),ae().createElement(K.Route,{path:se.router.postCreateRoute,render:function(e){return ae().createElement($e,{groupId:t.id,defaultCategoryId:e.match.params.categoryId})}}),ae().createElement(K.Route,{path:se.router.postCommentRoute,render:function(e){return ae().createElement("div",{className:"group-forums-post-wrapper"},ae().createElement(Bt,{groupId:t.id,categoryId:e.match.params.categoryId,postId:e.match.params.postId,initialCommentId:e.match.params.commentId}))}}),ae().createElement(K.Route,{path:se.router.postRoute,render:function(e){return ae().createElement("div",{className:"group-forums-post-wrapper"},ae().createElement(Bt,{groupId:t.id,categoryId:e.match.params.categoryId,postId:e.match.params.postId}))}}),ae().createElement(K.Route,{path:se.router.categoryRoute,render:function(e){return ae().createElement(Me,{groupId:t.id,paramCategoryId:e.match.params.categoryId})}}),ae().createElement(K.Route,{path:se.router.defaultRoute},ae().createElement(Me,{groupId:t.id,paramCategoryId:null})))))))):null}var yt=(0,t.withTranslations)(function(e){var t=e.replies,n=e.onShowReplies,r=e.onLoadMore,o=e.isOpen,a=e.isLoading,s=e.isFetchingMore,i=e.parentId,c=e.hasMore,u=e.loadingError,e=e.translate,l=tt().replyCommentHighlight;return o&&(!u||t&&0!==t.length)?a?ae().createElement("div",{className:"group-forums-comment-replies-loading"},ae().createElement(Ye,null),ae().createElement(Ye,null),ae().createElement(Ye,null)):ae().createElement("div",{className:"groups-forums-comment-replies"},t&&t.map(function(e){var t=l===e.id;return ae().createElement("div",{key:e.id,className:j()("groups-forums-comment-reply",{"groups-forums-comment-reply-active":t})},ae().createElement(xt,{key:e.id,variant:V.Reply,isActive:t,id:e.id,createdBy:e.createdBy,creatorDisplayName:e.creatorDisplayName,createdAt:e.createdAt,content:e.content.plainText,threadId:null,channelId:e.parentId,parentCommentId:i,reactions:e.reactions,replies:[]}))}),c&&!s&&ae().createElement("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r())},className:"groups-forums-comment-replies-show-more font-bold"},e("Action.ShowMoreReplies")),s&&ae().createElement("div",{className:"spinner spinner-default spinner-infinite-scroll"})):ae().createElement("div",{role:"button",tabIndex:0,onClick:n,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())},className:"groups-forums-comment-replies-show-more font-bold"},e("Action.ShowReplies"))},r),Et=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},wt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},kt=(0,t.withTranslations)(function(e){var t=e.createdBy,n=e.commentId,r=e.button,o=e.isReply,a=e.parentCommentId,s=e.threadId,i=e.channelId,c=e.translate,u=X(),l=u.canEditComment,m=u.canDeleteComment,f=tt(),d=f.categoryId,p=f.groupId,g=f.postId,h=f.handleDeleteComment,v=f.setEditComment,b=(0,z.useSystemFeedback)().systemFeedbackService,y=(0,oe.useMemo)(function(){return l(t)},[l,t]),E=(0,oe.useMemo)(function(){return m(t)},[m,t]),e=(0,oe.useCallback)(function(){v(n,a)},[n,a,v]),u=(0,oe.useCallback)(function(){return Et(void 0,void 0,void 0,function(){return wt(this,function(e){switch(e.label){case 0:return[4,h(n,a)];case 1:return e.sent()||b.warning(c("NetworkError")),[2]}})})},[h,n,a,b,c]),f=(0,oe.useCallback)(function(){return Et(void 0,void 0,void 0,function(){var t;return wt(this,function(e){switch(e.label){case 0:if(!navigator.clipboard)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),t=se.deepLinks.groupForumCommentUrl(p,d,g,n),[4,navigator.clipboard.writeText(t)];case 2:return e.sent(),b.success(c("Label.LinkCopied")),[3,4];case 3:return e.sent(),b.warning(c("Error.CopyLink")),[3,4];case 4:return[2]}})})},[d,n,p,g,b,c]),s=(0,oe.useCallback)(function(){var e=se.urls.reportAbuse(p,g,i,n,!0);window.location.href=e},[n,p,g,s]);return ae().createElement(z.Popover,{id:"group-forums-comment-dropdown-menu",button:r,trigger:"click",placement:"bottom"},ae().createElement("ul",{className:"dropdown-menu",role:"menu"},y&&ae().createElement(ee,{translateKey:o?"Label.EditReply":"Label.EditComment",action:e}),E&&ae().createElement(ee,{translateKey:o?"Label.DeleteReply":"Label.DeleteComment",action:u}),navigator.clipboard&&ae().createElement(ee,{translateKey:"Label.CopyLink",action:f}),ae().createElement(ee,{translateKey:"Label.ReportAbuse",action:s})))},r),Ct=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Nt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},xt=(0,t.withTranslations)(function(e){function t(){h.push(se.router.getCategoryRoute(E))}var r=e.id,o=e.threadId,a=e.channelId,n=e.title,s=e.variant,i=e.isActive,c=e.replies,u=e.createdBy,l=e.createdAt,m=e.content,f=e.parentCommentId,d=e.reactions,p=e.creatorDisplayName,g=e.translate,h=(0,K.useHistory)(),v=(0,z.useSystemFeedback)().systemFeedbackService,b=tt(),y=b.groupId,E=b.categoryId,w=b.postId,k=b.post,C=b.setReplyToCommentOrPost,N=b.setReplyToCommentReply,x=b.addReplies,P=X(),I=P.canReact,S=P.canCreateComment,T=(0,oe.useState)(!1),F=T[0],R=T[1],L=(0,oe.useCallback)(function(n){return Ct(void 0,void 0,void 0,function(){var t;return Nt(this,function(e){switch(e.label){case 0:return null===o?[2,{data:[],nextPageCursor:null,previousPageCursor:null}]:[4,ce(y,E,o,se.pageCounts.commentsPerPage,n)];case 1:return(t=e.sent()).data.length&&x(r,t.data,!1),[2,t]}})})},[x,E,y,r,o]),A=Pe({fetchItems:L,initialCursor:null,compareFn:we}),e=A.isLoadingInitialItems,b=A.isFetchingNextPage,M=A.error,D=A.refetch,P=A.fetchMore,T=A.hasMore,U=(0,oe.useMemo)(function(){return s===V.Comment&&null!==o},[o,s]),O=(0,oe.useCallback)(function(){D(),R(!0)},[D]),G=(0,oe.useCallback)(function(){s===V.Reply&&f?(N(f,r,u),he({groupId:y,clickTargetType:"replyToReply",clickTargetId:r})):s!==V.Reply&&(C(r,u),U&&!F&&s===V.Comment&&O(),he({groupId:y,clickTargetType:"replyToComment",clickTargetId:r}))},[u,O,y,r,f,C,N,F,U,s]),L=(0,oe.useCallback)(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),G())},[G]),A=(0,oe.useCallback)(function(){O(),he({groupId:y,clickTargetType:"showCommentReplies",clickTargetId:r})},[y,r,O]),B=(0,oe.useCallback)(function(){he({groupId:y,clickTargetType:s===V.Post?"openPostMenuFromComment":"openCommentMenu",clickTargetId:r})},[r,s,y]);(0,oe.useEffect)(function(){null!=c&&c.length&&!1===F&&O()},[O,c,F]),(0,oe.useEffect)(function(){M&&v.warning(g("NetworkError"))},[v,g,M]);function H(){return ae().createElement("button",{type:"button",className:"group-forums-comment-dropdown-menu-button btn-generic-more-sm",title:"more",onClick:B},ae().createElement("span",{className:"group-forums-comment-overflow-icon"}))}return ae().createElement(ae().Fragment,null,ae().createElement("div",{className:j()("group-forums-comment",s?"group-forums-comment-variant-"+s:"",{"group-forums-comment-active":i})},ae().createElement("div",{className:"group-forums-comment-header"},ae().createElement(W,{userId:u,createdTime:l,userDisplayName:p}),ae().createElement("div",{className:"group-forums-comment-menu"},s===V.Post?k?ae().createElement(re,{post:k,button:H(),onDelete:t}):null:ae().createElement(kt,{button:H(),isReply:s===V.Reply,createdBy:u,commentId:r,parentCommentId:f,threadId:o,channelId:a}))),n&&ae().createElement("h2",{className:"group-forums-comment-title"},n),ae().createElement("div",{className:"group-forums-comment-content"},m),ae().createElement("div",{className:"groups-forums-comment-metadata-section"},ae().createElement("div",{className:"groups-forums-comment-metadata-reaction-section"},ae().createElement(ct,{initialReactions:d,onToggleReaction:function(t,n){return Ct(void 0,void 0,void 0,function(){return Nt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,_(y,s===V.Reply?a:w,r,t,n)];case 1:return e.sent(),he({groupId:y,clickTargetType:"toggleCommentReaction"+(n?"On":"Off"),clickTargetId:t}),[2,!0];case 2:return e.sent(),v.warning(g("NetworkError")),[3,3];case 3:return[2,!1]}})})},maxReactionPerLine:s===V.Reply?3:4,viewOnly:!I})),S&&ae().createElement("div",{role:"button",tabIndex:0,onClick:G,onKeyDown:L,className:"groups-forums-comment-metadata-reply-section"},ae().createElement("span",{className:"group-forums-comment-reply-icon"}),g("Action.Reply")))),U&&ae().createElement(yt,{replies:c,isOpen:F,onShowReplies:A,onLoadMore:P,isLoading:e,isFetchingMore:b,hasMore:T,loadingError:M,parentId:r}))},r),Pt=function(){var e=(0,oe.useState)(!1),t=e[0],n=e[1],r=(0,oe.useCallback)(function(){window.matchMedia("(max-width: 991px)").matches?t||n(!0):t&&n(!1)},[t]);return(0,oe.useEffect)(function(){return r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}},[r]),{isSmallViewport:t}},It=(0,t.withTranslations)(function(e){var t=e.translate,n=tt(),r=n.refetchComments,o=n.comments,a=n.fetchNextCommentsPage,s=n.fetchPreviousCommentsPage,i=n.isFetchingNextCommentsPage,c=n.isFetchingPreviousCommentsPage,u=n.isLoadingComments,l=n.replyCommentHighlight,m=n.post,e=n.errorLoadingComments,f=n.initialCommentId,d=n.commentScrollContainerRef,p=n.mobileCommentScrollContainerRef,g=Pt().isSmallViewport,h=(0,oe.useRef)(!1),v=(0,oe.useRef)(0),b=(0,oe.useMemo)(function(){if(!m)return!1;var t=m.firstComment.id;return!o.some(function(e){return e.id===t})},[o,m]),n=(0,oe.useCallback)(function(){b&&s()},[s,b]),y=(0,oe.useCallback)(function(e){e&&!h.current&&(e.scrollIntoView({behavior:"auto",block:"start"}),h.current=!0)},[]);return(0,oe.useEffect)(function(){var e,t=g?p:d;t.current&&(c?v.current=t.current.scrollHeight:!c&&0<v.current&&(e=t.current.scrollHeight-v.current,t.current.scrollTop=e,v.current=0))},[d,c,g,p]),e?ae().createElement("div",{className:"group-forums-comments-section-error"},ae().createElement("div",{className:"group-forums-categories-error section-content-off"},ae().createElement("span",{className:"icon-status-alert"}),ae().createElement("h2",null,t("Error.LoadCommentsTitle")),ae().createElement("span",{className:"group-forums-categories-error-subtitle"},t("Error.ReloadingSubtitle")),ae().createElement("button",{type:"button",className:"btn-primary-md",onClick:r},t("Action.RetryLoadingComments")))):u||!m?ae().createElement("div",{className:"group-forums-comments-section group-forums-comments-section-loading"},ae().createElement(Ye,null),ae().createElement(Ye,null),ae().createElement(Ye,null)):o.length<=1?ae().createElement("div",{className:"group-forums-comments-section groups-forums-comments-no-comments section-content-off"},ae().createElement("span",{className:"chat-side-icon"}),ae().createElement("h2",null,t("Label.NoCommentsFoundHeader")),ae().createElement("span",null,t("Label.NoCommentsFoundText"))):ae().createElement("div",{className:"group-forums-comments-section"},ae().createElement(ye,{onLoadMore:n,viewingThreshold:1}),c&&ae().createElement("div",{className:"group-forums-comments-section-spinner spinner spinner-default spinner-infinite-scroll"}),o.map(function(e){return e.id===m.firstComment.id?null:ae().createElement("div",{key:e.id,ref:f&&e.id===f?y:null},ae().createElement(xt,{key:e.id,id:e.id,createdBy:e.createdBy,creatorDisplayName:e.creatorDisplayName,createdAt:e.createdAt,content:e.content.plainText,threadId:e.threadId,channelId:e.parentId,variant:V.Comment,isActive:l===e.id,replies:e.replies,reactions:e.reactions}))}),ae().createElement(ye,{onLoadMore:a,viewingThreshold:1}),i&&ae().createElement("div",{className:"group-forums-comments-section-spinner spinner spinner-default spinner-infinite-scroll"}))},r),St=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Tt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ft=function(r){return St(void 0,void 0,Promise,function(){var t,n;return Tt(this,function(e){switch(e.label){case 0:return n=s.urls.getUsersInfoURL,n={url:n,withCredentials:!(t={userIds:[r]})},[4,l.httpService.post(n,t)];case 1:return[2,e.sent().data.data]}})})},Rt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Lt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},At=(0,t.withTranslations)(function(e){var n=e.userId,t=e.translate,r=(0,oe.useState)(!0),o=r[0],a=r[1],e=(0,oe.useState)(null),r=e[0],s=e[1],i=(0,oe.useCallback)(function(){return Rt(void 0,void 0,void 0,function(){var t;return Lt(this,function(e){switch(e.label){case 0:a(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,Ft(n)];case 2:return(t=e.sent()).length&&s(t[0]),[3,5];case 3:return e.sent(),s(null),[3,5];case 4:return a(!1),[7];case 5:return[2]}})})},[n]);return(0,oe.useEffect)(function(){i()},[i]),o||!r?ae().createElement(gt,null):ae().createElement("div",{className:"group-forums-replying-to-display"},ae().createElement(z.Link,{className:"group-forums-replying-to-username-link text-default",url:b.Endpoints.getAbsoluteUrl("/users/"+r.id+"/profile")},ae().createElement(F.Thumbnail2d,{type:F.ThumbnailTypes.avatarHeadshot,size:F.ThumbnailAvatarHeadshotSize.size48,targetId:r.id,containerClass:"group-forums-replying-to-thumbnail",altName:r.displayName})),ae().createElement("div",{className:"group-forums-replying-to-text text-default"},t("Label.ReplyingTo"),ae().createElement("span",{className:"replying-to-user-name text-emphasis font-bold"}," ",r.displayName," ")))},r),Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Dt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Ut=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ot=(0,t.withTranslations)(function(e){var t=e.translate,n=(0,oe.useState)(""),r=n[0],o=n[1],a=(0,oe.useState)(!1),s=a[0],i=a[1],c=(0,oe.useState)(""),u=c[0],l=c[1],m=tt(),f=m.replyingToAuthor,d=m.handleCreateComment,p=m.handleEditComment,g=m.clearReplyToComment,h=m.commentModeratedError,v=m.clearCommentErrors,b=m.clearEditingComment,y=m.editingComment,e=m.editingCommentParent,E=m.commentComposerRef,w=m.postId,k=m.groupId,C=(0,oe.useCallback)(function(){o(""),E.current&&E.current.clearText(),g(),b()},[b,g,E]),N=(0,oe.useCallback)(function(){return Dt(void 0,void 0,void 0,function(){var t;return Ut(this,function(e){switch(e.label){case 0:return i(!0),y?[4,p({content:r})]:[3,2];case 1:return t=e.sent(),[3,4];case 2:return[4,d({content:r})];case 3:t=e.sent(),e.label=4;case 4:return t=t,i(!1),t&&C(),t=y?{clickTargetType:"editComment",clickTargetId:y.id}:{clickTargetType:"createComment",clickTargetId:w},he(Mt({groupId:k},t)),[2]}})})},[C,k,w,r,y,d,p]),x=(0,oe.useMemo)(function(){var e=r.trim(),t=u.trim();return""!==t?""!==e&&e!==t:""!==e},[r,u]),n=(0,oe.useMemo)(function(){return s||!x||h},[s,x,h]),a=(0,oe.useCallback)(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),N())},[N]),c=(0,oe.useCallback)(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g())},[g]),m=(0,oe.useCallback)(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),C())},[C]);return(0,oe.useEffect)(function(){var e;return y?(l(y.content.plainText),void(null!==(e=E.current)&&void 0!==e&&e.setText(y.content.plainText))):(l(""),o(""),void(null!==(e=E.current)&&void 0!==e&&e.clearText()))},[y,E]),ae().createElement("div",{className:"group-forums-comment-composer"},0!==f&&ae().createElement("div",{className:"group-forums-comment-composer-header"},ae().createElement(At,{userId:f}),ae().createElement("div",{role:"button",tabIndex:0,"aria-label":t("Action.Close"),onClick:g,onKeyDown:c,className:"group-forums-comment-composer-close-button"},ae().createElement("span",{className:"group-forums-comment-composer-close-icon"}))),y&&ae().createElement("div",{className:"group-forums-comment-composer-header"},ae().createElement("div",{className:"group-forums-comment-composer-editing text-default"},t(e?"Label.EditReply":"Label.EditComment")),ae().createElement("div",{role:"button",tabIndex:0,"aria-label":t("Action.Close"),onClick:C,onKeyDown:m,className:"group-forums-comment-composer-close-button"},ae().createElement("span",{className:"group-forums-comment-composer-close-icon"}))),ae().createElement("div",{className:"group-forums-comment-composer-body"},ae().createElement(De,{ref:E,className:"group-forums-comment-composer-textarea",textAreaClassName:"group-forums-comment-composer-textarea-input",placeholder:t("Label.WriteComment"),showCharacterCount:!1,maxTextFieldHeight:100,onChange:function(e){o(e),h&&v()},autoResize:!0}),ae().createElement("div",{role:"button",tabIndex:0,"aria-label":"Send",onClick:n?void 0:N,onKeyDown:n?void 0:a,className:j()("group-forums-comment-composer-send-button",{"group-forums-comment-composer-send-button-active":!n})})),h&&ae().createElement("div",{className:"group-forums-comment-composer-error"},ae().createElement("div",{className:"group-forums-comment-composer-error-icon"},ae().createElement("span",{className:"icon-status-alert"})),ae().createElement("div",{className:"group-forums-comment-composer-error-message"},t("Error.CommentModerationFailed"))))},r),Gt=function(){return(Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bt=(0,t.withTranslations)(function(e){return ae().createElement(pt,Gt({},e),ae().createElement(vt,Gt({},e)))},r),Ht=(0,t.withTranslations)(function(e){e=e.translate;return ae().createElement("div",{className:"group-forums-early-access-notice"},ae().createElement("span",{className:"group-forums-early-access-notice-icon icon-remove"}),ae().createElement("div",{className:"group-forums-early-access-notice-content"},ae().createElement("h3",{className:"group-forums-early-access-notice-title"},e("Heading.GroupForumsEarlyAccess")),ae().createElement("div",{className:"group-forums-early-access-notice-description"},e("Description.GroupForumsEarlyAccess"))))},r),zt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Kt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},jt=(0,t.withTranslations)(function(e){var n=e.groupId,r=e.forumCategory,o=e.onSuccess,a=e.onClose,s=e.translate,i=(0,z.useSystemFeedback)().systemFeedbackService,t=(0,oe.useState)((null==r?void 0:r.name)||""),c=t[0],u=t[1],l=(0,oe.useState)(!1),m=l[0],f=l[1],d=(0,oe.useState)(""),p=d[0],g=d[1],h=(0,oe.useState)(!1),v=h[0],b=h[1],e=(0,oe.useCallback)(function(){return zt(void 0,void 0,void 0,function(){var t;return Kt(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,6,7]),f(!0),r?[4,w(n,r.id,c)]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,E(n,c)];case 3:e.sent(),e.label=4;case 4:return o(),a(),he({groupId:n,clickTargetType:r?"updateForumCategory":"createForumCategory"}),[3,7];case 5:return t=e.sent(),(t=null===(t=null===(t=null===(t=null==t?void 0:t.data)||void 0===t?void 0:t.errors)||void 0===t?void 0:t[0])||void 0===t?void 0:t.message)&&g(t),i.warning(s("NetworkError")),[3,7];case 6:return f(!1),[7];case 7:return[2]}})})},[o,a,n,r,c,s,i,f]),y=(0,oe.useMemo)(function(){return(c.length<se.limits.categoryNameMinLength?"Error.ForumCategoryNameValidationTooShort":null)||(p.includes("InappropriateContent")?"Error.CategoryNameInappropriateContent":null)},[c,p]),t=(0,oe.useMemo)(function(){return m||!!y},[y,m]),l=(0,oe.useCallback)(function(e){b(!0),g(""),u(e.target.value)},[u]),d=(0,oe.useMemo)(function(){return s(r?"Action.RenameForumCategory":"Action.AddForumCategory")},[r,s]),h=(0,oe.useMemo)(function(){return s(r?"Action.Rename":"Action.Add")},[r,s]);return ae().createElement(z.Modal,{className:"edit-forum-category-dialog",show:!0,size:"md",backdrop:"static"},ae().createElement(z.Modal.Header,{title:d,onClose:a}),ae().createElement(z.Modal.Body,null,ae().createElement("div",{className:"group-forums-config-dialog-input"},ae().createElement("label",{className:"text-label",htmlFor:"edit-forum-category-name-input"},s("Label.ForumCategoryName")),ae().createElement("input",{id:"edit-forum-category-name-input",type:"text",placeholder:s("Label.ForumCategoryNamePlaceholder"),minLength:se.limits.categoryNameMinLength,maxLength:se.limits.categoryNameMaxLength,className:"form-control input-field",autoComplete:"off",onChange:l,value:c})),ae().createElement("p",{className:"group-forums-config-form-input-error"},v&&y&&s(y)),ae().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},ae().createElement("button",{disabled:t,type:"button",className:"btn-primary-md btn-min-width group-forums-config-dialog-button",onClick:e},h),ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:a},s("Action.Cancel")))))},r),Vt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Wt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},_t=(0,t.withTranslations)(function(e){var t=e.groupId,n=e.forumCategory,r=e.onSuccess,o=e.onClose,a=e.translate,s=(0,z.useSystemFeedback)().systemFeedbackService,i=(0,oe.useState)(!1),c=i[0],u=i[1],l=(0,oe.useMemo)(function(){return null!=n.archivedBy},[n]),e=(0,oe.useCallback)(function(){return Vt(void 0,void 0,void 0,function(){return Wt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),u(!0),[4,v(t,n.id,l)];case 1:return e.sent(),r(),o(),he({groupId:t,clickTargetType:"deleteForumCategory",clickTargetId:n.id}),[3,4];case 2:return e.sent(),s.warning(a("NetworkError")),[3,4];case 3:return u(!1),[7];case 4:return[2]}})})},[r,o,t,n.id,a,s,u,l]),i=(0,oe.useMemo)(function(){return c},[c]);return ae().createElement(z.Modal,{className:"delete-forum-category-dialog",show:!0,size:"md",backdrop:"static"},ae().createElement(z.Modal.Header,{title:a("Action.DeleteForumCategory"),onClose:o}),ae().createElement(z.Modal.Body,null,ae().createElement("div",{className:"group-forums-config-dialog-input"},a("Description.DeleteForumCategory",{forumCategoryName:n.name})),ae().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},ae().createElement("button",{disabled:i,type:"button",className:"btn-alert-md btn-min-width group-forums-config-dialog-button",onClick:e},a("Action.Delete")),ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:o},a("Action.Cancel")))))},r),qt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Jt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Qt=(0,t.withTranslations)(function(e){var t=e.groupId,n=e.forumCategory,r=e.onSuccess,o=e.onClose,a=e.translate,s=(0,z.useSystemFeedback)().systemFeedbackService,i=(0,oe.useState)(!1),c=i[0],u=i[1],l=(0,oe.useMemo)(function(){return null!=n.archivedBy},[n.archivedBy]),e=(0,oe.useCallback)(function(){return qt(void 0,void 0,void 0,function(){return Jt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),u(!0),[4,N(t,n.id,!l)];case 1:return e.sent(),r(),o(),he({groupId:t,clickTargetType:"archiveForumCategory",clickTargetId:n.id}),[3,4];case 2:return e.sent(),s.warning(a("NetworkError")),[3,4];case 3:return u(!1),[7];case 4:return[2]}})})},[r,o,t,n.id,a,s,u,l]),i=(0,oe.useMemo)(function(){return c},[c]);return ae().createElement(z.Modal,{className:"archive-forum-category-dialog",show:!0,size:"md",backdrop:"static"},ae().createElement(z.Modal.Header,{title:a(l?"Action.UnarchiveForumCategory":"Action.ArchiveForumCategory"),onClose:o}),ae().createElement(z.Modal.Body,null,ae().createElement("div",{className:"group-forums-config-dialog-input"},a(l?"Description.UnarchiveForumCategory":"Description.ArchiveForumCategory",{forumCategoryName:n.name})),ae().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},ae().createElement("button",{disabled:i,type:"button",className:"btn-primary-md btn-min-width group-forums-config-dialog-button",onClick:e},a(l?"Action.Unarchive":"Action.Archive")),ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:o},a("Action.Cancel")))))},r),Xt=(0,t.withTranslations)(function(e){var t=e.group,n=e.forumCategory,r=e.refetchForumCategories,o=e.isDeleteDisabled,a=e.isArchiveDisabled,s=e.translate,i=(0,oe.useState)(!1),c=i[0],u=i[1],l=(0,oe.useState)(!1),m=l[0],f=l[1],d=(0,oe.useState)(!1),p=d[0],g=d[1],h=(0,oe.useMemo)(function(){return null!=n.archivedBy},[n.archivedBy]),v=(0,oe.useMemo)(function(){return!h},[h]),b=(0,oe.useMemo)(function(){return!a},[a]),y=(0,oe.useMemo)(function(){return!o},[o]),E=(0,oe.useCallback)(function(){u(!0)},[u]),w=(0,oe.useCallback)(function(){u(!1)},[u]),e=(0,oe.useCallback)(function(){f(!0)},[f]),i=(0,oe.useCallback)(function(){f(!1)},[f]),l=(0,oe.useCallback)(function(){g(!0)},[g]),d=(0,oe.useCallback)(function(){g(!1)},[g]);return ae().createElement(ae().Fragment,null,c&&ae().createElement(jt,{groupId:t.id,forumCategory:n,onSuccess:r,onClose:w}),m&&ae().createElement(_t,{groupId:t.id,forumCategory:n,onSuccess:r,onClose:i}),p&&ae().createElement(Qt,{groupId:t.id,forumCategory:n,onSuccess:r,onClose:d}),ae().createElement("div",{className:"group-forums-config-category border-bottom"},ae().createElement("div",{className:"group-forums-config-category-name font-bold"},n.name),ae().createElement("div",{className:"group-forums-config-category-icons"},ae().createElement(z.Popover,{id:"group-event-dropdown-menu-popover",button:ae().createElement(z.IconButton,{iconName:"more-gray-vertical",size:z.IconButton.sizes.small,onClick:se.noOpFunctionRef}),trigger:"click",placement:"bottom"},ae().createElement("ul",{className:"group-forums-config-dropdown-menu dropdown-menu",role:"menu"},ae().createElement("li",null,v&&ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:E},s("Action.RenameForumCategory")),b&&ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:l},s(h?"Action.UnarchiveForumCategory":"Action.ArchiveForumCategory")),y&&ae().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:e},s("Action.DeleteForumCategory"))))))))},r),Yt=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},Zt=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},$t=(0,t.withTranslations)(function(e){var t=e.group,n=e.onFinished,r=e.translate,o=(0,z.useSystemFeedback)().systemFeedbackService,a=(0,oe.useState)(!1),e=a[0],s=a[1],a=(0,oe.useCallback)(function(){return Yt(void 0,void 0,void 0,function(){return Zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),s(!0),[4,Promise.all([E(t.id,r("Label.HelpAndSupport")),E(t.id,r("Label.Feedback")),E(t.id,r("Label.GeneralDiscussions"))])];case 1:return e.sent(),he({groupId:t.id,clickTargetType:"forumsGetStarted"}),[3,4];case 2:return e.sent(),o.warning(r("NetworkError")),[3,4];case 3:return n(),s(!1),[7];case 4:return[2]}})})},[t.id,r,s,n,o]);return ae().createElement("div",{className:"section-content"},ae().createElement("div",{className:"group-forums-upsell-container"},ae().createElement("div",{className:"group-forums-upsell-banner"}),ae().createElement("h2",null,r("Heading.ForumsUpsell")),ae().createElement("span",{className:"text-label"},r("Description.ForumsUpsell")),ae().createElement("button",{disabled:e,type:"button",className:"btn-growth-md btn-min-width group-forums-start-button",onClick:a},ae().createElement("span",{className:"font-bold"},r("Action.GetStarted")))))},r),en=function(e,s,i,c){return new(i=i||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}a((c=c.apply(e,s||[])).next())})},tn=function(n,r){var o,a,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},nn=(0,t.withTranslations)(function(e){var r=e.group,o=e.translate,t=(0,z.useSystemFeedback)(),n=t.SystemFeedbackComponent,a=t.systemFeedbackService,s=(0,oe.useState)(!1),i=s[0],c=s[1],u=(0,oe.useState)([]),l=u[0],m=u[1],f=(0,oe.useState)([]),d=f[0],p=f[1],g=(0,oe.useState)(!0),e=g[0],h=g[1],t=(0,oe.useState)(!1),s=t[0],v=t[1],b=(0,oe.useCallback)(function(){return en(void 0,void 0,void 0,function(){var t,n;return tn(this,function(e){switch(e.label){case 0:if(null==r||!r.id)return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),h(!0),[4,Promise.all([k(r.id,!1),k(r.id,!0)])];case 2:return n=e.sent(),t=n[0],n=n[1],m(t.data),p(n.data),[3,5];case 3:return e.sent(),a.warning(o("NetworkError")),v(!0),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})},[r.id,o,h,m,a]),y=(0,oe.useCallback)(function(){return en(void 0,void 0,void 0,function(){return tn(this,function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),[2]}})})},[b]),u=(0,oe.useCallback)(function(){return en(void 0,void 0,void 0,function(){return tn(this,function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),[2]}})})},[b]),f=(0,oe.useMemo)(function(){return l.length+d.length<se.limits.maxNumberOfCategories},[l,d]),E=(0,oe.useMemo)(function(){return l.length>se.limits.minNumberOfCategories},[l]),w=(0,oe.useMemo)(function(){return l.length>se.limits.minNumberOfCategories},[l]);(0,oe.useEffect)(function(){b()},[b]);g=(0,oe.useCallback)(function(){c(!0)},[c]),t=(0,oe.useCallback)(function(){c(!1)},[c]);return s?null:0===l.length&&0===d.length?e?ae().createElement(z.Loading,null):ae().createElement("div",{className:"section-content remove-panel"},ae().createElement($t,{group:r,onFinished:u}),ae().createElement(n,null)):ae().createElement("div",{className:"section-content remove-panel group-forums-config-section"},ae().createElement("div",{className:"group-forums-config-category border-bottom"},ae().createElement("div",{className:"group-forums-config-category-name font-bold"},o("Heading.Roles")),ae().createElement("a",{className:"group-forums-config-category-icons",href:se.urls.getConfigureGroupRolesSectionUrl(r.id)},ae().createElement(z.IconButton,{iconName:"next",size:z.IconButton.sizes.small,onClick:se.noOpFunctionRef}))),ae().createElement("h2",null,o("Heading.Categories")),ae().createElement("button",{disabled:!f,className:"btn-primary-md btn-min-width group-forums-config-add-category-button",type:"button",onClick:g},ae().createElement("span",{className:"icon-default-generic icon-add-category"}),ae().createElement("span",{className:"font-bold"},o("Action.AddForumCategory"))),!f&&ae().createElement("span",{className:"text-secondary"},o("Description.MaxNumberOfCategoriesReached",{maxNumberOfCategories:se.limits.maxNumberOfCategories})),i&&ae().createElement(jt,{groupId:r.id,forumCategory:null,onSuccess:y,onClose:t}),e?ae().createElement(z.Loading,null):ae().createElement("div",{className:"group-forums-config-categories"},ae().createElement("div",{className:"group-forums-config-categories-list"},l.map(function(e){return ae().createElement(Xt,{key:e.id,group:r,forumCategory:e,isDeleteDisabled:!E,isArchiveDisabled:!w,refetchForumCategories:y})})),0<d.length&&ae().createElement("div",{className:"font-bold"},o("Heading.ArchivedCategories")),ae().createElement("div",{className:"group-forums-config-categories-list"},d.map(function(e){return ae().createElement(Xt,{key:e.id,group:r,forumCategory:e,isDeleteDisabled:!1,isArchiveDisabled:!1,refetchForumCategories:y})}))),ae().createElement(n,null))},r),rn=(0,t.withTranslations)(function(e){var t=e.groupId,e=e.translate;return ae().createElement("div",{className:"group-wall-deprecation-notice"},ae().createElement("span",{className:"group-wall-deprecation-notice-icon icon-warning"}),ae().createElement("div",{className:"group-wall-deprecation-notice-content"},ae().createElement("h3",{className:"group-wall-deprecation-notice-title"},e("Heading.GroupWallDeprecated")),ae().createElement("div",{className:"group-wall-deprecation-notice-description"},e("Description.GroupWallDeprecated"))),ae().createElement("a",{className:"group-wall-deprecation-notice-button",href:se.urls.getForumsPageUrl(t)},ae().createElement(z.Button,{variant:z.Button.variants.primary,size:z.Button.sizes.small,width:z.Button.widths.full,onClick:function(){return null}},e("Action.VisitForums"))))},r),on=function(){return(on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r={renderGroupForums:function(e,t){(0,n.unmountComponentAtNode)(e),(0,n.render)(ae().createElement(bt,on({},t)),e)},renderGroupForumsConfigSection:function(e,t){(0,n.unmountComponentAtNode)(e),(0,n.render)(ae().createElement(z.SystemFeedbackProvider,null,ae().createElement(nn,on({},t))),e)},renderGroupWallDeprecationNotice:function(e,t){(0,n.unmountComponentAtNode)(e),(0,n.render)(ae().createElement(rn,on({},t)),e)}};Object.assign(e(),{GroupForumsService:r})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/f4049ddce5bb81d93ae0249d7cef76b5-groupForums.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupForums");