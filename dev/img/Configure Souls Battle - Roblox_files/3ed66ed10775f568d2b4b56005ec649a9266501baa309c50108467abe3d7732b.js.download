!function(){var e={8129:function(t,n,e){var a={"./configureGroupOneTimePayoutComponent.js":974,"./configureGroupPayoutsComponent.js":8944,"./configureGroupRecurringPayoutComponent.js":9024,"./groupAddFunds.js":618,"./groupPayoutsComponent.js":8873};function o(t){t=r(t);return e(t)}function r(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(a)},o.resolve=r,(t.exports=o).id=8129},7206:function(t,n,e){var a={"./groupPayoutsConstants.js":6186};function o(t){t=r(t);return e(t)}function r(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(a)},o.resolve=r,(t.exports=o).id=7206},3685:function(t,n,e){var a={"./addPayoutRecipientModalController.js":6499,"./configureGroupOneTimePayoutController.js":3039,"./configureGroupPayoutsController.js":8386,"./configureGroupRecurringPayoutController.js":8115,"./groupAddFundsController.js":7754,"./groupAddFundsModalController.js":729,"./groupPayoutsController.js":1177};function o(t){t=r(t);return e(t)}function r(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(a)},o.resolve=r,(t.exports=o).id=3685},7699:function(t,n,e){var a={"./groupPayoutsService.js":5774};function o(t){t=r(t);return e(t)}function r(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(a)},o.resolve=r,(t.exports=o).id=7699},1622:function(t,n,e){var a={"./components/templates/addPayoutRecipientModal.html":4665,"./components/templates/configureGroupOneTimePayout.html":6941,"./components/templates/configureGroupPayouts.html":1062,"./components/templates/configureGroupRecurringPayout.html":963,"./components/templates/groupAddFunds.html":5689,"./components/templates/groupAddFundsModal.html":2711,"./components/templates/groupPayouts.html":920};function o(t){t=r(t);return e(t)}function r(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(a)},o.resolve=r,(t.exports=o).id=1622},3544:function(t){function r(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(t){return t.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(t){t.keys().forEach(t)},templateCacheGenerator:function(t,n,a,o){return t.module(n,[]).run(["$templateCache",function(e){a&&a.keys().forEach(function(t){var n=r(s(t));e.put(n,a(t))}),o&&o.keys().forEach(function(t){var n=r(s(t));e.put(n,o(t).replace(/<\/?script[^>]*>/gi,""))})}])}};t.exports=n},974:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-one-time-payout",bindings:{groupId:"<",groupFunds:"<",reloadGroupFunds:"="},controller:"configureGroupOneTimePayoutController"};e(4928).Z.component("configureGroupOneTimePayout",a),n.default=a},8944:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-payouts",bindings:{groupId:"<",groupFunds:"<",reloadGroupFunds:"="},controller:"configureGroupPayoutsController"};e(4928).Z.component("configureGroupPayouts",a),n.default=a},9024:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-recurring-payout",bindings:{groupId:"<",groupFunds:"<"},controller:"configureGroupRecurringPayoutController"};e(4928).Z.component("configureGroupRecurringPayout",a),n.default=a},618:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"group-add-funds",bindings:{group:"<"},controller:"groupAddFundsController"};e(4928).Z.component("groupAddFunds",a),n.default=a},8873:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"group-payouts",bindings:{groupId:"<",groupFunds:"<"},controller:"groupPayoutsController"};e(4928).Z.component("groupPayouts",a),n.default=a},6186:function(t,n,e){"use strict";e.r(n);var a=e(792),e=e(4928),a={urls:{getPayoutsUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts"),postGroupPayoutUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts"),postGroupRecurringPayoutUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts/recurring"),groupPayoutRestrictionUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payout-restriction"),getAddFundsLatestUrl:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/addfunds/latest"),postAddFundsUrl:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/addfunds"),getUsersGroupPayoutEligibility:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/users-payout-eligibility")},payoutTypes:{Amount:"Amount",Percent:"Percentage"},apiPayoutTypes:{Amount:"FixedAmount",Percent:"Percentage"},payoutRecipientTypes:{User:"User",Group:"Group"},addFundsMaxRobuxDefault:1e7,addFundsErrorCodeMessages:{14:"Message.MaximumExceeded",16:"Message.InsufficentFunds"},guestRoleset:{name:"Guest",rank:0}};e.Z.constant("groupPayoutsConstants",a),n.default=a},6499:function(t,n,e){"use strict";e.r(n);var o=e(792),e=e(4928);function a(t,r,n,e,s,a,i,u,l){r.params=e,r.addPayoutRecipients=function(){r.params.addPayoutRecipients(r.recipients),n.dismiss()},r.isUserAlreadyPayoutRecipient=function(n){var t=r.params.recipients.filter(function(t){return t.userId===n});return t&&0<t.length},r.selectUser=function(o){return t(function(e,a){return r.layout.isLoadingUser=!0,r.isUserAlreadyPayoutRecipient(o.id)?(r.layout.isLoadingUser=!1,void a(u.get("Message.UserAlreadyAdded"))):void s.getUserRoleInGroup(o.id,r.params.groupId).then(function(n){n?l.getUserPayoutEligibility(r.params.groupId,o.id).then(function(t){"Eligible"===t.usersGroupPayoutEligibility[o.id]?(t={role:n.name,id:o.id,name:o.name,displayName:o.displayName,url:i.profilePageUrl(o.id)},r.recipients.push(t),e()):a(u.get("Message.UserGroupPayoutIneligible"))}):a(u.get("Message.TargetUserNotInGroup"))},function(t){a(t)}).finally(function(){r.layout.isLoadingUser=!1})})},r.removeUser=function(t){r.recipients.splice(t,1)},r.close=function(){n.dismiss()},r.init=function(){r.thumbnailTypes=a.thumbnailTypes,r.layout={isDisplayNamesEnabled:o.DisplayNames.Enabled()},r.recipients=[]},r.init()}a.$inject=["$q","$scope","$uibModalInstance","modalData","groupsService","thumbnailConstants","groupUtilityService","languageResource","groupPayoutsService"],e.Z.controller("addPayoutRecipientModalController",a),n.default=a},3039:function(t,n,e){"use strict";e.r(n);var p=e(792),e=e(4928);function a(e,n,t,a,o,r,s,i,u,l,d){var c=this;c.showAddPayoutRecipientModal=function(){var t={animation:!1,templateUrl:"add-payout-recipient-modal",controller:"addPayoutRecipientModalController",resolve:{modalData:{groupId:c.groupId,recipients:c.payouts.users,addPayoutRecipients:c.addPayoutRecipients}}};n.open(t)},c.addPayoutRecipients=function(t){t.forEach(function(t){var n=p.DisplayNames.Enabled()?t.displayName:t.name;c.payouts.users.push({userId:t.id,username:t.name,nameForDisplay:n,role:t.role,url:t.url,amount:0,calcAmount:0})})},c.updatePayoutType=function(t){c.payouts.type=t,c.layout.maxPayoutValue=c.payouts.type===a.payoutTypes.Percent?100:c.payouts.revenue,c.resetPayout()},c.resetPayout=function(){c.payouts.users.forEach(function(t){t.amount=0,t.calcAmount=0}),c.payouts.remaining=c.payouts.revenue,c.payouts.paying=0,c.layout.fundsError=null},c.updatePayout=function(){var n=0;c.payouts.users.forEach(function(t){t.calcAmount=c.payouts.type===c.layout.payoutTypes.Amount?t.amount:Math.floor(c.payouts.revenue*(.01*t.amount)),n+=t.calcAmount});var t=c.payouts.revenue-n;t<0?(c.layout.fundsError=u.get("Message.NotEnoughFundsDistribute"),c.payouts.paying=n,c.payouts.remaining=0):(c.layout.fundsError=null,c.payouts.remaining=t,c.payouts.paying=n)},c.removeUser=function(t){c.payouts.users.splice(t,1),c.updatePayout()},c.getPayoutTypeLabel=function(t){var n=s.setTranslations();return n.payoutTypes[t]||a.payoutTypes[t]},c.showVerificationRedirectModal=function(){l.sendFrictionEvent(d.events.settingsRedirectModalTriggered);n.open({animation:!1,templateUrl:"verification-redirect-modal",controller:"verificationRedirectModalController"})},c.showVerificationInputModal=function(t){t?(t=p.AccountIntegrityChallengeService.TwoStepVerification,l.popUpTwoStepVerificationChallenge(d.events.codeInputModalTriggered,t)):n.open({animation:!1,templateUrl:"verification-input-modal",controller:"verificationInputModalController"})},c.sendPayment=function(){c.layout.isPayoutPending=!0;var t=a.apiPayoutTypes.Amount;c.payouts.type===c.layout.payoutTypes.Percent&&(t=c.layout.payoutTypes.Percent);var n=[];c.payouts.users.forEach(function(t){n.push({recipientId:t.userId,recipientType:a.payoutRecipientTypes.User,amount:t.amount})}),s.postGroupPayout(c.groupId,t,n).then(function(){var t=e("number")(c.payouts.paying,0);c.reloadGroupFunds().then(function(t){c.initPayouts(t)}).finally(function(){c.layout.isPayoutPending=!1}),i.success(u.get("Message.AmountPaidOut",{amount:t}))},function(t){t.errors&&0<t.errors.length&&(t.errors[0].code===o.errorCodes.internal.twoStepVerificationRequired?l.getTwoStepVerificationConfiguration().then(function(t){t.twoStepEnabled?c.showVerificationInputModal(t.usingTwoStepWebviewComponent):c.showVerificationRedirectModal()}).catch(function(){c.showVerificationRedirectModal()}):i.warning(u.get("Message.DistributeFundsError"))),c.layout.isPayoutPending=!1})},c.isDistributeButtonDisabled=function(){return c.layout.fundsError||0===c.payouts.users.length||0===c.payouts.paying||c.layout.isPayoutPending},c.initPayouts=function(t){c.layout.maxPayoutValue=t,c.payouts={users:[],paying:0,type:c.layout.payoutTypes.Amount,revenue:t,remaining:t}},c.loadPayoutRestriction=function(){c.layout.isLoading=!0,s.getGroupPayoutRestriction(c.groupId).then(function(t){c.layout.canUseOneTimePayout=t.canUseOneTimePayout},function(){c.layout.loadError=!0,$log.debug("Failed to load group payout restriction.")}).finally(function(){c.layout.isLoading=!1})};c.$onInit=function(){c.thumbnailTypes=t.thumbnailTypes,c.layout={payoutTypes:a.payoutTypes},c.loadPayoutRestriction(),c.initPayouts(c.groupFunds)}}a.$inject=["$filter","$uibModal","thumbnailConstants","groupPayoutsConstants","groupsConstants","groupsService","groupPayoutsService","systemFeedbackService","languageResource","verificationService","verificationResources"],e.Z.controller("configureGroupOneTimePayoutController",a),n.default=a},8386:function(t,n,e){"use strict";e.r(n);e=e(4928);function a(t){var n=this;n.$onInit=function(){window.location.href="https://create.roblox.com/dashboard/group/payouts?groupId=".concat(n.groupId)}}a.$inject=["$window"],e.Z.controller("configureGroupPayoutsController",a),n.default=a},8115:function(t,n,e){"use strict";e.r(n);var p=e(792),e=e(4928);function a(e,n,t,a,o,r,s,i,u,l,d){var c=this;c.showAddPayoutRecipientModal=function(){var t={animation:!1,templateUrl:"add-payout-recipient-modal",controller:"addPayoutRecipientModalController",resolve:{modalData:{groupId:c.groupId,recipients:c.payouts.users,addPayoutRecipients:c.addPayoutRecipients}}};n.open(t)},c.loadPayouts=function(){c.layout.isLoading=!0,e.getGroupPayoutRecipients(c.groupId).then(function(t){0===t.length&&(c.layout.isLoading=!1),t.forEach(function(t){var n=t.user,e=n.id,a=n.name,n=n.displayName,n=p.DisplayNames.Enabled()?n:a;c.payouts.users.push({userId:e,username:a,nameForDisplay:n,role:t.role.name,amount:t.percentage,url:i.profilePageUrl(e)}),c.payouts.paying+=t.percentage,c.payouts.userInput=""})},function(){c.layout.loadError=!0,t.debug("Failed to load group payout recipients.")}).finally(function(){c.layout.isLoading=!1})},c.addPayoutRecipients=function(t){t.forEach(function(t){var n=t.id,e=t.displayName,a=t.name,o=p.DisplayNames.Enabled()?e:a;c.payouts.users.push({userId:n,username:a,displayName:e,nameForDisplay:o,role:t.role,amount:0,url:t.url})})},c.updatePayout=function(){var n=0;c.payouts.users.forEach(function(t){n+=t.amount});var t=100-n;c.layout.fundsError=t<0?u.get("Message.NotEnoughFundsDistribute"):null,c.payouts.paying=n},c.removeUser=function(t){c.payouts.users.splice(t,1),c.updatePayout()},c.showVerificationRedirectModal=function(){l.sendFrictionEvent(d.events.settingsRedirectModalTriggered);n.open({animation:!1,templateUrl:"verification-redirect-modal",controller:"verificationRedirectModalController"})},c.showVerificationInputModal=function(t){t?(t=p.AccountIntegrityChallengeService.TwoStepVerification,l.popUpTwoStepVerificationChallenge(d.events.codeInputModalTriggered,t)):n.open({animation:!1,templateUrl:"verification-input-modal",controller:"verificationInputModalController"})},c.updateRecurringPayout=function(){var t=o.apiPayoutTypes.Percent,n=[];c.payouts.users.forEach(function(t){n.push({recipientId:t.userId,recipientType:o.payoutRecipientTypes.User,amount:t.amount})}),e.postGroupRecurringPayout(c.groupId,t,n).then(function(){s.success(u.get("Message.PercentagePaidOut",{percentage:c.payouts.paying}))},function(t){t.errors&&0<t.errors.length&&(t.errors[0].code===r.errorCodes.internal.twoStepVerificationRequired?l.getTwoStepVerificationConfiguration().then(function(t){t.twoStepEnabled?c.showVerificationInputModal(t.usingTwoStepWebviewComponent):c.showVerificationRedirectModal()}).catch(function(){c.showVerificationRedirectModal()}):s.warning(u.get("Message.UpdateRecurringPayoutsError")))})},c.loadPayoutRestriction=function(){c.layout.isLoading=!0,e.getGroupPayoutRestriction(c.groupId).then(function(t){c.layout.canUseRecurringPayout=t.canUseRecurringPayout},function(){c.layout.loadError=!0,t.debug("Failed to load group payout restriction.")}).finally(function(){c.layout.isLoading=!1})};c.$onInit=function(){c.layout={},c.thumbnailTypes=a.thumbnailTypes,c.payouts={users:[],paying:0},c.loadPayoutRestriction(),c.loadPayouts()}}a.$inject=["groupPayoutsService","$uibModal","$log","thumbnailConstants","groupPayoutsConstants","groupsConstants","systemFeedbackService","groupUtilityService","languageResource","verificationService","verificationResources"],e.Z.controller("configureGroupRecurringPayoutController",a),n.default=a},7754:function(t,n,e){"use strict";e.r(n);var a=e(4928),i=e(792);function o(n,a,t,e,o){var r=this;function s(t,n){t=o.addFundsErrorCodeMessages[t]||"Message.GeneralAddFundsError";return a("translate")(t,n)}r.userId=i.CurrentUser.userId,r.userName=i.CurrentUser.name,r.addFunds=function(t){t={animation:!1,templateUrl:"group-add-funds-modal",controller:"groupAddFundsModalController",resolve:{modalData:{robuxAmount:t,CurrentUser:i.CurrentUser,group:r.group}}};n.open(t)},r.inputChanged=function(t,n){var e;n>r.addFundsMaxRobux?(e=a("number")(r.addFundsMaxRobux),r.inputError=s(14,{robux:e})):n>r.userBalance?r.inputError=s(16):r.inputError=void 0},r.isTransferDisabled=function(t){return"string"==typeof r.inputError||null===t||isNaN(t)};r.$onInit=function(){r.inputError=void 0,r.addFundsMaxRobux=o.addFundsMaxRobuxDefault,r.userBalance=r.addFundsMaxRobux,e.getUserCurrency(r.userId).then(function(t){r.userBalance=t||r.userBalance}),t.getAddFundsLatest(r.group.id).then(function(t){r.transactionDate=t.transactionDate,r.rateLimitInDays=t.rateLimitInDays,r.addFundsMaxRobux=t.addFundsMaxRobux||r.addFundsMaxRobux})}}o.$inject=["$uibModal","$filter","groupPayoutsService","groupsService","groupPayoutsConstants"],a.Z.controller("groupAddFundsController",o),n.default=o},729:function(t,n,e){"use strict";e.r(n);e=e(4928);function a(t,n,e,a,o,r,s,i){t.params=a,t.addFunds=function(){o.postAddFunds(a.group.id,a.robuxAmount).then(function(t){location.reload()},function(t){t=n("translate")((t=(t=t).errors[0].code,r.addFundsErrorCodeMessages[t]||"Message.GeneralAddFundsError"));s.warning(t),e.close()})};i=i.robuxIconHtml+n("number")(a.robuxAmount);t.robuxWithIcon='<span class="add-funds-robux">'.concat(i,"</span>"),t.close=function(){e.dismiss()}}a.$inject=["$scope","$filter","$uibModalInstance","modalData","groupPayoutsService","groupPayoutsConstants","systemFeedbackService","groupsConstants"],e.Z.controller("groupAddFundsModalController",a),n.default=a},1177:function(t,n,e){"use strict";e.r(n);var a=e(4928),s=e(792);function o(t,n,e,a){var o=this;o.getRemainingPercentage=function(){var n=100;return o.recipients.forEach(function(t){n-=t.percentageData}),Math.ceil(n,0)};function r(){o.recipients=[],o.thumbnailTypes=e.thumbnailTypes,o.isDisplayNamesEnabled=s.DisplayNames.Enabled(),n.getGroupPayoutRecipients(o.groupId).then(function(t){o.recipients=t},function(){t.debug("Failed to load group payout recipients.")})}o.$onInit=r,o.$onChanges=r}o.$inject=["$log","groupPayoutsService","thumbnailConstants","groupPayoutsConstants"],a.Z.controller("groupPayoutsController",o),n.default=o},4928:function(t,n,e){"use strict";var a=e(792),o=e(5734),o=e.n(o)().module("groupPayouts",["robloxApp","groupPayoutsTemplates","thumbnails","groups","ui.bootstrap"]).config(["languageResourceProvider",function(t){var n=new a.TranslationResourceProvider,e=n.getTranslationResource("Feature.Groups"),n=n.getTranslationResource("Authentication.TwoStepVerification");t.setTranslationResources([e,n])}]);n.Z=o},5774:function(t,n,e){"use strict";e.r(n);e=e(4928);function a(s,i,o,u,l,t,d){return{getGroupPayoutRecipients:function(r){var t={url:o("formatString")(l.urls.getPayoutsUrl,{groupId:r})};return i(function(o,e){return s.httpGet(t).then(function(t){var a=t.data.map(function(t){return{user:{id:t.user.userId,name:t.user.username,displayName:t.user.displayName},percentage:t.percentage}}),n=[];a.forEach(function(t){n.push(d.getUserRoleInGroup(t.user.id,r))}),i.all(n).then(function(t){for(var n=0;n<t.length;n++){var e=t[n];null==e&&(e=l.guestRoleset),a[n].role=e}o(a)},function(t){u.debug("--error waiting for userRoleInGroup promises---"),e(t)})},function(t){t=s.getApiErrorCodes(t);e(t[0]||0)})})},postGroupPayout:function(t,n,e){t={url:o("formatString")(l.urls.postGroupPayoutUrl,{groupId:t})},e={PayoutType:n,Recipients:e};return s.httpPost(t,e)},setTranslations:function(){return{payoutTypes:{Percentage:t.get("Label.Percentage"),Amount:t.get("Heading.Amount")}}},postGroupRecurringPayout:function(t,n,e){t={url:o("formatString")(l.urls.postGroupRecurringPayoutUrl,{groupId:t})},e={PayoutType:n,Recipients:e};return s.httpPost(t,e)},getGroupPayoutRestriction:function(t){var a={url:o("formatString")(l.urls.groupPayoutRestrictionUrl,{groupId:t})};return i(function(n,e){return s.httpGet(a).then(function(t){n(t)},function(t){t=s.getApiErrorCodes(t);e(t[0]||0)})})},getAddFundsLatest:function(t){var a={url:o("formatString")(l.urls.getAddFundsLatestUrl,{groupId:t})};return i(function(n,e){return s.httpGet(a).then(function(t){n(t)},function(t){t=s.getApiErrorCodes(t);e(t[0]||0)})})},postAddFunds:function(t,n){t={url:o("formatString")(l.urls.postAddFundsUrl,{groupId:t})},n={robuxAmount:n};return s.httpPost(t,n)},getUserPayoutEligibility:function(t,n){t={url:o("formatString")(l.urls.getUsersGroupPayoutEligibility,{groupId:t})},n={userIds:n};return s.httpGet(t,n)}}}a.$inject=["httpService","$q","$filter","$log","groupPayoutsConstants","languageResource","groupsService"],e.Z.factory("groupPayoutsService",a),n.default=a},4665:function(t){t.exports='<div id="add-payout-recipient"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span class="icon-close"></span> </button> <div class="modal-title"> <h4 ng-bind="\'Label.AddPayoutRecipients\' | translate"></h4> </div> </div> <div class="modal-body"> <p class="body-text text-description" ng-bind="\'Label.EnterPayoutRecipient\' | translate"></p> <search-dropdown target-type="User" select="selectUser"></search-dropdown> <div class="payout-recipient-avatar-cards rbx-scrollbar"> <div class="avatar-card" ng-repeat="recipient in recipients"> <div class="avatar-card-container"> <div class="avatar avatar-headshot avatar-headshot-sm"> <a class="avatar-card-link" ng-href="{{ recipient.url }}" target="_blank"> <thumbnail-2d class="avatar-card-image" thumbnail-type="thumbnailTypes.avatarHeadshot" thumbnail-target-id="recipient.id"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <div class="avatar-name text-overflow" ng-bind="layout.isDisplayNamesEnabled ? recipient.displayName : recipient.name"></div> <div class="avatar-card-label text-secondary text-overflow" ng-bind="recipient.role"></div> </div> <button ng-click="removeUser($index)" class="delete-btn btn-generic-trash-bin-sm"> <span class="icon-trash-bin"></span> </button> </div> </div> <div class="avatar-card" ng-show="layout.isLoadingUser"> <span class="spinner spinner-sm"></span> </div> </div> </div> <div class="modal-buttons" toggle-loading="" is-inline="true" is-loading="layout.isLoading"> <button type="button" class="modal-button btn-primary-md" ng-disabled="layout.isLoadingUser || recipients.length === 0" ng-click="addPayoutRecipients()" ng-bind="\'Action.OK\' | translate"></button> <button type="button" class="modal-button btn-secondary-md" ng-click="close()" ng-bind="\'Action.Cancel\' | translate"></button> </div> </div>'},6941:function(t){t.exports='<div class="container-header"> <h2 ng-bind="\'Heading.OneTimePayout\' | translate"></h2> </div> <div class="section"> <div class="spinner spinner-default" ng-show="$ctrl.layout.isLoading"></div> <div ng-show="!$ctrl.layout.isLoading && $ctrl.layout.loadError" class="section-content-off" ng-bind="\'Message.LoadPayoutsError\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds == 0" ng-bind="\'Message.NoFundsDistribute\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds > 0 && !$ctrl.layout.canUseOneTimePayout" ng-bind="\'Message.PayoutRestricted\' | translate"> </div> <div class="one-time-payout" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds > 0 && $ctrl.layout.canUseOneTimePayout"> <div class="distribute-header"> <span class="distribute-by-text" ng-bind="\'Label.DistributeBy\' | translate"></span> <div class="input-group"> <div class="input-group-btn dropdown" uib-dropdown=""> <button type="button" uib-dropdown-toggle="" class="input-dropdown-btn" ng-disabled="$ctrl.layout.isPayoutPending"> <span class="rbx-selection-label" data-bind="label" ng-bind="$ctrl.getPayoutTypeLabel($ctrl.payouts.type)"></span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" role="menu" uib-dropdown-menu=""> <li ng-repeat="type in $ctrl.layout.payoutTypes"> <a ng-click="$ctrl.updatePayoutType(type)" ng-bind="$ctrl.getPayoutTypeLabel(type)"></a> </li> </ul> </div> </div> </div> <button class="btn-secondary-md add-payout-recipient-button" ng-click="$ctrl.showAddPayoutRecipientModal()" ng-disabled="$ctrl.layout.isPayoutPending" ng-bind="\'Label.AddPayoutRecipients\' | translate"></button> <table class="table table-striped payouts"> <tbody> <tr> <td class="user"></td> <td class="amount"></td> <td class="delete"></td> </tr> <tr ng-repeat="user in $ctrl.payouts.users"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-xs"> <a ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="user.userId"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" class="avatar-card-name text-lead text-overflow" ng-bind="user.nameForDisplay"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="user.role"></div> </div> </div> </td> <td class="amount"> <div ng-class="{\'display-calc\': $ctrl.payouts.type == \'Percentage\'}" class="form-group payout-input"> <span class="amount"> <span ng-if="$ctrl.payouts.type == \'Amount\'" class="robux icon-robux-16x16"></span> <input ng-keyup="$ctrl.updatePayout(user.userId)" ng-model="user.amount" class="form-control input-field input-number" type="number" min="0" max="{{ $ctrl.layout.maxPayoutValue }}" oninput="validity.valid?this.save=value:value=this.save" ng-disabled="$ctrl.layout.isPayoutPending"/> <span ng-if="$ctrl.payouts.type == \'Percentage\'" class="percent">%</span> </span> <span ng-if="$ctrl.payouts.type == \'Percentage\'" class="calc icon-robux-container"> <span class="icon-robux-16x16"></span> <span ng-bind="user.calcAmount | number:0"></span> </span> </div> </td> <td class="delete"> <button ng-click="$ctrl.removeUser($index)" class="delete-btn btn-generic-trash-bin-sm"> <span class="icon-trash-bin"></span> </button> </td> </tr> <tr> <td colspan="2"> <div class="payout-calc"> <div class="icon-robux-container"> <span ng-bind="\'Label.PayingOut\' | translate"></span> <span class="icon-robux-16x16"></span> <span ng-bind="$ctrl.payouts.paying | number:0"></span> </div> <div class="icon-robux-container"> <span ng-bind="\'Label.RemainingFunds\' | translate"></span> <span class="icon-robux-16x16"></span> <span ng-bind="$ctrl.payouts.remaining | number:0"></span> </div> <div class="text-error" ng-if="$ctrl.layout.fundsError" ng-bind="$ctrl.layout.fundsError"> </div> </div> </td> <td></td> </tr> </tbody> </table> <div class="input-group-btn" toggle-loading="" is-inline="true"> <button type="button" class="save-button btn-primary-md" ng-disabled="$ctrl.isDistributeButtonDisabled()" ng-click="$ctrl.sendPayment()" ng-bind="\'Action.Distribute\' | translate"></button> </div> <span id="2sv-popup-container"></span> </div> </div>'},1062:function(t){t.exports='<span class="spinner spinner-default"></span> '},963:function(t){t.exports='<div class="container-header"> <h2 ng-bind="\'Heading.RecurringPayout\' | translate"></h2> </div> <div class="section"> <div class="spinner spinner-default" ng-show="$ctrl.layout.isLoading"></div> <div ng-show="!$ctrl.layout.isLoading && $ctrl.layout.loadError" class="section-content-off" ng-bind="\'Message.LoadPayoutsError\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n        !$ctrl.layout.loadError && !$ctrl.layout.canUseRecurringPayout && $ctrl.groupFunds == 0" ng-bind="\'Message.NoFundsDistribute\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n        !$ctrl.layout.loadError && !$ctrl.layout.canUseRecurringPayout && $ctrl.groupFunds > 0" ng-bind="\'Message.PayoutRestricted\' | translate"> </div> <div ng-show="!$ctrl.layout.isLoading && !$ctrl.layout.loadError && $ctrl.layout.canUseRecurringPayout" class="recurring-payout"> <button class="btn-secondary-md add-payout-recipient-button" ng-click="$ctrl.showAddPayoutRecipientModal()" ng-bind="\'Label.AddPayoutRecipients\' | translate"></button> <table class="table table-striped payouts"> <tbody> <tr> <td class="user"></td> <td class="amount"></td> <td class="delete"></td> </tr> <tr ng-repeat="user in $ctrl.payouts.users"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-xs"> <a class="avatar-card-link" ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="user.userId"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" ng-bind="user.nameForDisplay"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="user.role"></div> </div> </div> </td> <td class="amount"> <div class="form-group payout-input"> <input ng-keyup="$ctrl.updatePayout(user.userId)" ng-model="user.amount" class="form-control input-field input-number" type="number" min="0" max="100" oninput="validity.valid?this.save=value:value=this.save"/> <span class="percent">%</span> </div> </td> <td class="delete"> <button ng-click="$ctrl.removeUser($index)" class="delete-btn btn-generic-trash-bin-sm"> <span class="icon-trash-bin"></span> </button> </td> </tr> <tr> <td colspan="2"> <div class="payout-calc"> <div> <span ng-bind="\'Label.PayingOut\' | translate"></span> <span ng-bind="$ctrl.payouts.paying | number:0"></span>% </div> <div> <span ng-bind="\'Label.RevenueToGroupFund\' | translate"></span> <span ng-bind="100 - $ctrl.payouts.paying | number:0"></span>% </div> <div class="text-error" ng-if="$ctrl.layout.fundsError" ng-bind="$ctrl.layout.fundsError"> </div> </div> </td> <td></td> </tr> </tbody> </table> <div class="input-group-btn" toggle-loading="" is-inline="true" is-loading="$ctrl.layout.isLoading"> <button type="button" class="save-button btn-secondary-md" ng-disabled="$ctrl.layout.fundsError" ng-click="$ctrl.updateRecurringPayout()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> <span id="2sv-popup-container"></span> </div>'},5689:function(t){t.exports='<div id="add-funds" class="section"> <div class="container-header"> <h2 class="group-title-with-input" ng-bind="\'Label.AddFunds\' | translate"></h2> </div> <div ng-show="$ctrl.transactionDate" class="section-content remove-panel"> <div ng-bind="\'Label.LastAddedFunds\' | translate : { userName: $ctrl.userName, groupName: $ctrl.group.name, transferDate: $ctrl.transactionDate }"> </div> </div> <div ng-hide="$ctrl.transactionDate" class="section-content remove-panel"> <h4 class="add-funds-prompt font-header-2" ng-bind="\'Label.AddFundsPrompt\' | translate : { userName: $ctrl.userName, groupName: $ctrl.group.name}"></h4> <label class="text-label" for="robux-amount"> <span ng-bind="\'Label.AddFundsAmount\' | translate" class="ng-binding"></span> </label> <div class="form-group form-has-feedback" ng-class="{ \'form-has-error\': $ctrl.inputError }"> <span class="form-icon icon-robux-16x16"></span> <div class="add-funds-input"> <input id="robux-amount" class="form-control input-field input-number" type="number" ng-keyup="$ctrl.inputChanged($event, params.robuxAmount)" ng-model="params.robuxAmount"/> <p class="form-control-label" ng-bind-html="$ctrl.inputError"></p> </div> <button type="button" class="btn-secondary-md btn-action" ng-disabled="$ctrl.isTransferDisabled(params.robuxAmount)" ng-click="$ctrl.addFunds(params.robuxAmount)" ng-bind="\'Action.Transfer\' | translate"></button> </div> </div> <div ng-bind="\'Message.AddFundsLimitMessage\' | translate : { limit: $ctrl.rateLimitInDays }"></div> </div> '},2711:function(t){t.exports='<div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span class="icon-close"></span> </button> <div class="modal-title"> <h4 ng-bind="\'Heading.AddFundsModal\' | translate"></h4> </div> </div> <div class="modal-body"> <p class="body-text text-description" ng-bind-html="\'Message.AddFundsModal\' | translate : { groupName: params.group.name, robuxWithIcon: robuxWithIcon }"></p> </div> <div class="modal-buttons"> <button type="button" class="modal-button btn-secondary-md" ng-click="close()" ng-bind="\'Action.No\' | translate"></button> <button type="submit" class="modal-button btn-secondary-md" ng-click="addFunds()" ng-bind="\'Action.Yes\' | translate"></button> </div> '},920:function(t){t.exports='<div class="section" ng-if="$ctrl.recipients.length > 0"> <div class="container-header"> <h2 ng-bind="\'Heading.Payouts\' | translate"></h2> </div> <div class="section-content remove-panel"> <table class="table"> <tr class="border-top" ng-repeat="recipient in $ctrl.recipients"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-sm"> <a ng-href="{{ \'users\' | seoUrl:recipient.user.id:\'profile\' }}" class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="recipient.user.id"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a ng-if="$ctrl.isDisplayNamesEnabled" class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: recipient.user.id:\'profile\' }}" ng-bind="recipient.user.displayName"></a> <a ng-if="!$ctrl.isDisplayNamesEnabled" class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: recipient.user.id:\'profile\' }}" ng-bind="recipient.user.name"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="recipient.role.name"></div> </div> </div> </td> <td class="payout-percentage" ng-bind="recipient.percentage + \'%\'"></td> </tr> </table> </div> </div>'},792:function(t){"use strict";t.exports=Roblox},5734:function(t){"use strict";t.exports=angular}},a={};function o(t){if(a[t])return a[t].exports;var n=a[t]={exports:{}};return e[t](n,n.exports,o),n.exports}o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,{a:n}),n},o.d=function(t,n){for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=o(5734),n=o.n(t),e=o(3544);o(4928),(0,e.importFilesUnderPath)(o(3685)),(0,e.importFilesUnderPath)(o(7699)),(0,e.importFilesUnderPath)(o(8129)),(0,e.importFilesUnderPath)(o(7206)),t=o(1622),(0,e.templateCacheGenerator)(n(),"groupPayoutsTemplates",t)}()}();
//# sourceMappingURL=https://js.rbxcdn.com/d326ce9fd3ee2dd0b96585712d9a8590-groupPayouts.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupPayouts");